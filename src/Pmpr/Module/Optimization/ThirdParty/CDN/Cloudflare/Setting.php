<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             67c832ec5ea4f             |
    |_______________________________________|
*/
 namespace Pmpr\Module\Optimization\ThirdParty\CDN\Cloudflare; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\Interfaces\IconBrandInterface; use Pmpr\Common\Foundation\Interfaces\IconInterface; use Pmpr\Module\Optimization\Setting\SettingSegment; class Setting extends SettingSegment { const fsekswokoseswcqm = 'apikey_mode'; const eywauigiwgqckygk = 'tokenkey_mode'; const gcomwmacomisogmq = 'cloudflare_'; const yeeemccgmikyeiqq = self::gcomwmacomisogmq . Constants::muqaqimusmckkieq; const gogkyyyaamaukyiq = self::gcomwmacomisogmq . Constants::sygmkaeayiiouiwm; const iqksqseqeqmaukkk = self::gcomwmacomisogmq . 'zoneid'; const emausmuaoecugeeg = self::gcomwmacomisogmq . 'cookie'; const sqekigigmayskecy = self::gcomwmacomisogmq . 'maxage'; const ekecawsykcwisikm = self::gcomwmacomisogmq . 'apikey'; const iyamemcoiwsucioi = self::gcomwmacomisogmq . 'zoneids'; const waugumayqaqkeeqq = self::gcomwmacomisogmq . 'dev_mode'; const uwkciiskgyqaigqe = self::gcomwmacomisogmq . 'apitoken'; const uksumkeyuauyuiqm = self::gcomwmacomisogmq . 'auth_mode'; const kwuagsmkgsoqgqqi = self::gcomwmacomisogmq . 'cache_enabled'; const wkcomsocigwgckie = self::gcomwmacomisogmq . 'browser_maxage'; const kiuyeswmgaikeiuo = self::gcomwmacomisogmq . 'apitoken_domain'; const amkasseuucsemuqm = self::gcomwmacomisogmq . 'purge_only_html'; const qwwseyoqqqesqmks = self::gcomwmacomisogmq . 'disable_cache_purging_queue'; const kcwqqiwomcaesaeu = self::gcomwmacomisogmq . 'prefetch_urls_viewport_timestamp'; const kskcqqggeskwysas = self::gcomwmacomisogmq . 'cache_ruleset_id'; const uswuyomyeyomqumi = self::gcomwmacomisogmq . 'cache_frontend_rule_id'; const qsqggqaguqoawwea = self::gcomwmacomisogmq . 'bypass_backend_rule_id'; public function ykwqaukkycogooii() { $wyeyeaaekyoyimqu = 1; $kkuqeemoawuaqiwu = $this->mekmkysuwsuseaow(); $momweuckmqkiyssc = $this->iqokecwcgkaookuc(); if ($kkuqeemoawuaqiwu) { $wyeyeaaekyoyimqu = 2; } $oceoauekaygmuoko = $this->mkcwgaeaaweamyyg('cloudflare')->jyumyyugiwwiqomk(40)->saemoowcasogykak(IconBrandInterface::cwwuaoycwcmykaue)->gswweykyogmsyawy(__('Cloudflare', PR__MDL__OPTIMIZATION))->gucwmccyimoagwcm(__('Cloudflare cloud service management', PR__MDL__OPTIMIZATION)); $mokawwccycoiqeka = $this->uwkmaywceaaaigwo()->giiecckwoyiawoyy()->auksikwsewaywikq(); $gwgucoaaqcwwciqq = $this->uwkmaywceaaaigwo()->gyecsegqciqykomu()->gooqqcmsyseiaikc($mokawwccycoiqeka, PHP_URL_HOST); $uuyucgkyusckoaeq = $this->caokeucsksukesyo()->wmkogisswkckmeua(); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $yskwcwsysugsiusm = ['guides' => ['dashboard' => [Constants::qescuiwgsyuikume => __('Cloudflare Dashboard', PR__MDL__OPTIMIZATION), Constants::qwumqqyuasyskkkc => [1 => sprintf(__('%1$s or %2$s on %3$s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->yuawgssgauywkiia(__('Login', PR__MDL__OPTIMIZATION), 'https://dash.cloudflare.com/login', ['target' => '_blank']), $swqimwqeweekeusq->yuawgssgauywkiia(__('Sign up', PR__MDL__OPTIMIZATION), 'https://dash.cloudflare.com/sign-up', ['target' => '_blank']), __('Cloudflare', PR__MDL__OPTIMIZATION)), 2 => sprintf(__('Add %s domain', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis($gwgucoaaqcwwciqq)), 3 => sprintf(__('In %s page chose %s plan from below of list', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis('Select a plan'), $swqimwqeweekeusq->ciuuiyckmsygceis('Free')), 4 => sprintf(__('In %s page click on %s and in %s window click on %s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis('Add more DNS records'), $swqimwqeweekeusq->ciuuiyckmsygceis('Continue'), $swqimwqeweekeusq->ciuuiyckmsygceis('Add records later'), $swqimwqeweekeusq->ciuuiyckmsygceis('Confirm')), 5 => sprintf(__('In %s page based on %s and %s remove previous name servers of %s and replace cloudflare name savers and click on %s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis('Change your nameservers'), $swqimwqeweekeusq->ciuuiyckmsygceis($this->caokeucsksukesyo()->gagsyqagguwwauac()->eusockqasqqmoess(3)), $swqimwqeweekeusq->ciuuiyckmsygceis($this->caokeucsksukesyo()->gagsyqagguwwauac()->eusockqasqqmoess(4)), $swqimwqeweekeusq->ciuuiyckmsygceis($gwgucoaaqcwwciqq), $swqimwqeweekeusq->ciuuiyckmsygceis('Done, check nameservers')) . $uuyucgkyusckoaeq->mumsqekeeuykyemy([Constants::squoamkioomemiyi => Constants::ecioqysekgaasegg, Constants::kqeokggqcsesmqco => true, Constants::ssmskyqgcmeiayco => __('Do this by logging in to your domain registrar panel', PR__MDL__OPTIMIZATION), Constants::eekuioqeyeoyumym => false]), 6 => sprintf(__('In %s page click on %s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis('Quick Start Guide'), $swqimwqeweekeusq->ciuuiyckmsygceis('Finish later')), 7 => sprintf(__('Click on %s in profile menu and in %s tab in %s segment, click on %s related to %s%s. In %s modal enter your password and click on %s and copy key text for use on next steps', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis('My Profile'), $swqimwqeweekeusq->ciuuiyckmsygceis('API Tokens'), $swqimwqeweekeusq->ciuuiyckmsygceis('API Keys'), $swqimwqeweekeusq->ciuuiyckmsygceis('View'), $swqimwqeweekeusq->ciuuiyckmsygceis('Global API Key'), '<br>', $swqimwqeweekeusq->ciuuiyckmsygceis('Your API Key'), $swqimwqeweekeusq->ciuuiyckmsygceis('View'))]], 'wp_admin' => [Constants::qescuiwgsyuikume => __('Wordpress Admin', PR__MDL__OPTIMIZATION), Constants::qwumqqyuasyskkkc => [1 => sprintf(__('Enter the email you registered with on cloudflare in the %s field', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis(__('Cloudflare e-mail', PR__MDL__OPTIMIZATION))), 2 => sprintf(__('Put the %s on the %s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis(__('Authentication mode', PR__MDL__OPTIMIZATION)), $swqimwqeweekeusq->ciuuiyckmsygceis(__('API Key', PR__MDL__OPTIMIZATION))), 3 => sprintf(__('Put the text of the key copied in the previous steps in the %s field', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis(__('API Key', PR__MDL__OPTIMIZATION))), 4 => sprintf(__('Click on %s button', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis(__('Save changes', PR__MDL__OPTIMIZATION))), 5 => sprintf(__('In the %s field, select %s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis(__('Domain Name', PR__MDL__OPTIMIZATION)), $swqimwqeweekeusq->ciuuiyckmsygceis($gwgucoaaqcwwciqq)) . $uuyucgkyusckoaeq->mumsqekeeuykyemy([Constants::squoamkioomemiyi => Constants::ecioqysekgaasegg, Constants::kqeokggqcsesmqco => true, Constants::ssmskyqgcmeiayco => __('If your domain name is not in the list, reload the WordPress admin panel page', PR__MDL__OPTIMIZATION), Constants::eekuioqeyeoyumym => false]), 6 => sprintf(__('Click on %s button', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis(__('Save changes', PR__MDL__OPTIMIZATION)))]]]]; $oceoauekaygmuoko->kwkugmqouisgkqig($this->ycgeeoiieoiakgam('account')->gswweykyogmsyawy(__('Account', PR__MDL__OPTIMIZATION))->saemoowcasogykak(IconInterface::ksygwkqsesmkwmsy)->aucimgwswmgaocae($this->doeuiogekyiwgsgw('connection')->saemoowcasogykak(IconInterface::awkgcwoysmookwow)->gswweykyogmsyawy(__('Connection', PR__MDL__OPTIMIZATION))->mkksewyosgeumwsa($this->ymuegqgyuagyucws(self::yeeemccgmikyeiqq)->mkiaygiogeeyogqm()->gswweykyogmsyawy(__('Cloudflare e-mail', PR__MDL__OPTIMIZATION))->gucwmccyimoagwcm(__('The email address you use to log in to Cloudflare.', PR__MDL__OPTIMIZATION)))->mkksewyosgeumwsa($this->yyuwuqsiucweeoue(self::uksumkeyuauyuiqm)->eumecwmqmukqgyea()->gswweykyogmsyawy(__('Authentication Mode', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(self::fsekswokoseswcqm, __('API Key', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(self::eywauigiwgqckygk, __('API Token', PR__MDL__OPTIMIZATION))->gucwmccyimoagwcm(__('Authentication mode to use to connect to your Cloudflare account.', PR__MDL__OPTIMIZATION))->qyucewwiggkyeaso(self::fsekswokoseswcqm, self::ekecawsykcwisikm)->qyucewwiggkyeaso(self::eywauigiwgqckygk, self::uwkciiskgyqaigqe))->mkksewyosgeumwsa($this->ymuegqgyuagyucws(self::ekecawsykcwisikm)->kqqqugemmqagucuq()->gswweykyogmsyawy(__('API Key', PR__MDL__OPTIMIZATION))->gucwmccyimoagwcm(__('The global API key extrapolated from your Cloudflare account.', PR__MDL__OPTIMIZATION)))->mkksewyosgeumwsa($this->ymuegqgyuagyucws(self::uwkciiskgyqaigqe)->kqqqugemmqagucuq()->gswweykyogmsyawy(__('API Token', PR__MDL__OPTIMIZATION))->gucwmccyimoagwcm(__('The API token extrapolated from your Cloudflare account.', PR__MDL__OPTIMIZATION)))->mkksewyosgeumwsa($this->mccagaqeagiikkec(self::iqksqseqeqmaukkk)->gswweykyogmsyawy(__('Zone ID', PR__MDL__OPTIMIZATION))->wywmmeyauqkeskeq(!empty($momweuckmqkiyssc))->acauweqyyugwisqc($momweuckmqkiyssc)))->aucimgwswmgaocae($this->doeuiogekyiwgsgw('guide')->saemoowcasogykak(IconInterface::muqqeuwgookecwyg)->gswweykyogmsyawy(__('Guide', PR__MDL__OPTIMIZATION))->mkksewyosgeumwsa($this->yqgagqgesqyuyuqq('cloudflare_connection_guide')->oguessuismosauuu($this->iuygowkemiiwqmiw('guide', $yskwcwsysugsiusm))))); if ($wyeyeaaekyoyimqu > 1) { if ($this->giiuwsmyumqwwiyq(Setting::kwuagsmkgsoqgqqi)) { $msyccggawokquiaw = sprintf('%s %s', $this->isimusqssoykweee(true), __('Cloudflare\'s Cache is Enabled.', PR__MDL__OPTIMIZATION)); } else { $msyccggawokquiaw = sprintf('%s %s %s', $this->isimusqssoykweee(false), __('Cloudflare\'s Cache is Disabled.', PR__MDL__OPTIMIZATION), $uuyucgkyusckoaeq->igiawkoqiogocsau([Constants::squoamkioomemiyi => Constants::smkwuwawwaqyimcq, Constants::qescuiwgsyuikume => __('Enable Cloudflare\'s Cache', PR__MDL__OPTIMIZATION), Constants::ssmskyqgcmeiayco => __('Cloudflare\'s Cache seems to be disabled, do you want to enable it?', PR__MDL__OPTIMIZATION), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-btn btn-primary pr-opt-cf-enable-cache', Constants::qescuiwgsyuikume => __('Enable Cache', PR__MDL__OPTIMIZATION)]]], __('Enable Cache', PR__MDL__OPTIMIZATION), [Constants::ELEMENT => 'a', Constants::gqmuoaykeqeuoukm => false])); } if (!$this->giiuwsmyumqwwiyq(Setting::waugumayqaqkeeqq)) { $oquegamcgaiyakcu = sprintf('%s %s', $this->isimusqssoykweee(true), __('Cloudflare\'s Development Mode is Disabled.', PR__MDL__OPTIMIZATION)); } else { $oquegamcgaiyakcu = sprintf('%s %s %s', $this->isimusqssoykweee(false), __('Cloudflare\'s Development Mode is Enabled.', PR__MDL__OPTIMIZATION), $uuyucgkyusckoaeq->igiawkoqiogocsau([Constants::squoamkioomemiyi => Constants::smkwuwawwaqyimcq, Constants::qescuiwgsyuikume => __('Disable Cloudflare\'s Development Mode', PR__MDL__OPTIMIZATION), Constants::ssmskyqgcmeiayco => __('Cloudflare\'s Development Mode seems to be enabled, do you want to disable it?', PR__MDL__OPTIMIZATION), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-btn btn-primary pr-opt-cf-disable-dev-mode', Constants::qescuiwgsyuikume => __('Disable Development Mode', PR__MDL__OPTIMIZATION)]]], __('Disable Development Mode', PR__MDL__OPTIMIZATION), [Constants::ELEMENT => 'a', Constants::gqmuoaykeqeuoukm => false])); } $oceoauekaygmuoko->kwkugmqouisgkqig($this->ycgeeoiieoiakgam('status')->gswweykyogmsyawy(__('Status', PR__MDL__OPTIMIZATION))->saemoowcasogykak(IconInterface::eimowcqwkgwcqwuq)->mkksewyosgeumwsa($this->yqgagqgesqyuyuqq('cloudflare_cache_status')->mkmssscwmeekwgqo()->gswweykyogmsyawy(__('Cache Status', PR__MDL__OPTIMIZATION))->oguessuismosauuu($msyccggawokquiaw))->mkksewyosgeumwsa($this->yqgagqgesqyuyuqq('cloudflare_development_mode')->mkmssscwmeekwgqo()->gswweykyogmsyawy(__('Development Mode', PR__MDL__OPTIMIZATION))->oguessuismosauuu($oquegamcgaiyakcu)))->kwkugmqouisgkqig($this->ycgeeoiieoiakgam('cache')->gswweykyogmsyawy(__('Cache', PR__MDL__OPTIMIZATION))->saemoowcasogykak(IconInterface::eqmcawggoiaogyqa)->mkksewyosgeumwsa($this->ymuegqgyuagyucws(self::sqekigigmayskecy)->eyygsasuqmommkua(31536000)->escqqisecooswqgo(1)->gswweykyogmsyawy(__('Cloudflare Cache-Control max-age', PR__MDL__OPTIMIZATION))->gucwmccyimoagwcm(sprintf("%s<br><strong>%s</strong>", __("Don't touch if you don't know what is it. Must be greater than zero.", PR__MDL__OPTIMIZATION), sprintf(__('Recommended %s', PR__MDL__OPTIMIZATION), 31536000))))->mkksewyosgeumwsa($this->ymuegqgyuagyucws(self::wkcomsocigwgckie)->eyygsasuqmommkua(60)->escqqisecooswqgo(1)->gswweykyogmsyawy(__('Browser Cache-Control max-age', PR__MDL__OPTIMIZATION))->gucwmccyimoagwcm(sprintf("%s<br><strong>%s</strong>", __("Don't touch if you don't know what is it. Must be greater than zero.", PR__MDL__OPTIMIZATION), sprintf(__('Recommended a value between %s and %s', PR__MDL__OPTIMIZATION), 60, 600))))); } $this->ogimmkwaymekmoky($oceoauekaygmuoko); } public function isimusqssoykweee(bool $qegcgsquckcqmkea) { $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); if ($qegcgsquckcqmkea) { return $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::sucyqiucaqowyomk, ['class' => 'icon-sm icon-success']); } return $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::ksosaawiuaiosemw, ['class' => 'icon-sm icon-warning']); } public function awwuyycwuuuggkqy($eqgoocgaqwqcimie) { $this->mggwieqomgcuskme()->qioweyiqewmsocem(self::waugumayqaqkeeqq, $eqgoocgaqwqcimie); } public function yoaiuuuwwssswyqa() { return $this->giiuwsmyumqwwiyq(self::waugumayqaqkeeqq, Constants::OFF); } public function uiwouioqckimcqsq(array $eggwswqquakgowom = []) { if (!$eggwswqquakgowom) { $eggwswqquakgowom = $this->iqokecwcgkaookuc(); } $kkuqeemoawuaqiwu = false; $wegekcwgakqeqsmq = $this->giiuwsmyumqwwiyq(self::uksumkeyuauyuiqm, self::fsekswokoseswcqm); $kwyuqamwgumokoac = $this->goewgasukwccacim(); switch ($wegekcwgakqeqsmq) { case self::eywauigiwgqckygk: $cqwquiiwkgakwmam = $this->giiuwsmyumqwwiyq(self::kiuyeswmgaikeiuo); if ($cqwquiiwkgakwmam) { $kkuqeemoawuaqiwu = $eggwswqquakgowom[$cqwquiiwkgakwmam] ?? false; } break; case self::fsekswokoseswcqm: $kkuqeemoawuaqiwu = array_flip($eggwswqquakgowom)[$kwyuqamwgumokoac] ?? false; break; } return $kkuqeemoawuaqiwu; } public function enqueue() { $meakksicouekcgoe = $this->caokeucsksukesyo()->usugyumcgeaaowsi(); $meakksicouekcgoe->qeqgammgesiwiysc($meakksicouekcgoe->owygwqwawqoiusis($this, 'cloudflare', 'cloudflare.js')->okawmmwsiuauwsiu()); } public function goewgasukwccacim() : string { $eeamcawaiqocomwy = $this->caokeucsksukesyo()->gyecsegqciqykomu()->mkcmkkskeeaskowy(untrailingslashit($this->uwkmaywceaaaigwo()->giiecckwoyiawoyy()->ieokeoyugcmwuumq())); preg_match('#[^.]*\\.[^.]{2,3}(?:\\.[^.]{2,3})?$#', $eeamcawaiqocomwy, $meyiiwcswqmuggyg); return $meyiiwcswqmuggyg[0] ?? ''; } public function iqokecwcgkaookuc() : array { return (array) $this->giiuwsmyumqwwiyq(self::iyamemcoiwsucioi, []); } public function mekmkysuwsuseaow() { return $this->giiuwsmyumqwwiyq(self::iqksqseqeqmaukkk); } }
