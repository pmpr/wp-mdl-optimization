<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             68a63f5133702             |
    |_______________________________________|
*/
 namespace Pmpr\Module\Optimization\PageManager; use Pmpr\Common\Foundation\ORM\Database\Query; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\Interfaces\IconInterface; use Pmpr\Module\Optimization\Container; use Pmpr\Module\Optimization\Optimization; use Pmpr\Module\Optimization\Optimizer\Cache\HTML\Preload\Setting as PreloadSetting; use Pmpr\Module\Optimization\Optimizer\Cache\SpecialPage\Search\Setting as SearchSetting; use Pmpr\Module\Optimization\Optimizer\Cache\VirtualBrowser\Setting as VirtualBrowserSetting; use Pmpr\Module\Optimization\Optimizer\Preprocess\Setting as PreprocessSetting; use Pmpr\Module\Optimization\Optimizer\Cache\VirtualBrowser\VirtualBrowser; use Pmpr\Module\Optimization\PageManager\Model\Page; use Pmpr\Module\Optimization\PageManager\Model\Pattern; use Pmpr\Module\Optimization\PageManager\Model\Process; use Pmpr\Module\Optimization\PageManager\Model\Run\Local; use Pmpr\Module\Optimization\PageManager\Model\Run\Remote; use Pmpr\Module\Optimization\PageManager\Search\History; use Pmpr\Module\Optimization\PageManager\SpeedTest\SpeedTest; use WP_Error; use WP_Post; use WP_Term; class Engine extends Container { public function cmcmuoosomwkakgm($eouekqmooogkoqoo, $iwywmkygwewiamwm = Constants::oimusiegakqgwosg, array $ocqawgquwsqioses = []) { if (!$ocqawgquwsqioses) { $ocqawgquwsqioses = $this->wegymsqmyauaoqce($eouekqmooogkoqoo); } $eoscayamgmcyoyku = Constants::oimusiegakqgwosg === $iwywmkygwewiamwm; if (!$iwywmkygwewiamwm || $eoscayamgmcyoyku) { $iwywmkygwewiamwm = $this->caokeucsksukesyo()->giiecckwoyiawoyy()->yyqgamuwwakgciey(Constants::ogigqueukwysusii, '', true); if (!$iwywmkygwewiamwm && $eoscayamgmcyoyku && is_array($ocqawgquwsqioses)) { return array_key_first($ocqawgquwsqioses); } } $ksaameoqigiaoigg = ''; if ($iwywmkygwewiamwm) { $iwywmkygwewiamwm = trailingslashit($iwywmkygwewiamwm); if (isset($ocqawgquwsqioses[$iwywmkygwewiamwm])) { $ksaameoqigiaoigg = $iwywmkygwewiamwm; } else { $ksaameoqigiaoigg = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis(__('URL is not matched to pattern.', PR__MDL__OPTIMIZATION)); } } return $ksaameoqigiaoigg; } public function uaoiiekuayauwqiq($eouekqmooogkoqoo) { $iwywmkygwewiamwm = $this->cmcmuoosomwkakgm($eouekqmooogkoqoo); if (is_wp_error($iwywmkygwewiamwm)) { return $iwywmkygwewiamwm; } $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); if ($iwywmkygwewiamwm) { $jwkieqegmyuwayce->gssiscqyqsacmeca()->aawsuyueaaimeqsm($eouekqmooogkoqoo, $jwkieqegmyuwayce::ceuoiwiqaosoyqwm, $iwywmkygwewiamwm); } if (!$iwywmkygwewiamwm) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $ciquwokaoswgwwai = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::cygiymoyaceiaawg); if ($ciquwokaoswgwwai) { $iwywmkygwewiamwm = $iuekmkswcsacoawq->oiucukewkckkwiqc($ciquwokaoswgwwai); } if (!$iwywmkygwewiamwm) { $emyowuimauuisimy = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::ceuoiwiqaosoyqwm); if ($emyowuimauuisimy) { $suaemuyiacqyugsm = $iuekmkswcsacoawq->iekyeyicoyyawomk()->oqomcmyuuakigusk([$eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg, $jwkieqegmyuwayce->mwyqswsaeeewsosm($eouekqmooogkoqoo)), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::auqoykcmsiauccao, $iuekmkswcsacoawq->esewqawcwouwyesq($emyowuimauuisimy, false))]); if ($suaemuyiacqyugsm) { $jwkieqegmyuwayce->gssiscqyqsacmeca()->aawsuyueaaimeqsm($eouekqmooogkoqoo, $jwkieqegmyuwayce::cygiymoyaceiaawg, $iuekmkswcsacoawq->mwyqswsaeeewsosm($suaemuyiacqyugsm)); } $iwywmkygwewiamwm = $emyowuimauuisimy; } } if (!$iwywmkygwewiamwm) { $suaemuyiacqyugsm = $iuekmkswcsacoawq->iekyeyicoyyawomk()->oqomcmyuuakigusk([$eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg, $jwkieqegmyuwayce->mwyqswsaeeewsosm($eouekqmooogkoqoo)), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg)]); if ($suaemuyiacqyugsm) { $iwywmkygwewiamwm = $iuekmkswcsacoawq->esewqawcwouwyesq($iuekmkswcsacoawq->waecsyqmwascmqoa($suaemuyiacqyugsm, Constants::auqoykcmsiauccao)); } } } return $iwywmkygwewiamwm; } public function iwoekuysekysqmke() : bool { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); return $eiicaiwgqkgsekce->cmaecekuqkwmemms('PR_OPT_PATTERN_MANUAL_OPTIMIZE', false) || $eiicaiwgqkgsekce->gkwaaeusmsaywikg('pattern-manual-optimize'); } public function gwouoomgwecwwmoa() : bool { $cwyqoquoweqqweqk = $this->euyyeqkmigikiaam(); return !empty($cwyqoquoweqqweqk) && Constants::eqewsqmqmsiocaeg === Page::symcgieuakksimmu()->ogegcqqcukiaqscy(Constants::ciywsqoeiymemsys, $cwyqoquoweqqweqk); } public function mmosakwauqogckem(string $uusmaiomayssaecw, $qkcoyiyeuoyyoocy = 0) { $icwicymcioeyeyek = false; if ($this->weysguygiseoukqw(PreprocessSetting::mwiumewcouimiacm)) { if ($qkcoyiyeuoyyoocy === 0) { $qkcoyiyeuoyyoocy = (int) $this->euyyeqkmigikiaam(Constants::gouqcwikiiygyasc); } if ($qkcoyiyeuoyyoocy) { $acoioasmiqcwagsa = Process::symcgieuakksimmu(); if ($yuymkuycuoyucucu = $acoioasmiqcwagsa->iekyeyicoyyawomk()->akkkoiiymmamsauc($qkcoyiyeuoyyoocy, Constants::egukegmcemkeegqq)) { $icwicymcioeyeyek = $this->cyeasecqqqsquemg($acoioasmiqcwagsa->waecsyqmwascmqoa($yuymkuycuoyucucu, $uusmaiomayssaecw)); } } } return $icwicymcioeyeyek; } public function owimqaiqokakwisa($aqykuigiuwmmcieu = null) { $ksaameoqigiaoigg = []; $sameaqkagyqomooq = $this->euyyeqkmigikiaam(Page::ewyamgkooeqiecwg); if ($sameaqkagyqomooq) { $ksaameoqigiaoigg = $this->ocksiywmkyaqseou(Optimization::kgswyesggeyekgmg . 'virtual_browser_get_cached_data', $ksaameoqigiaoigg, $sameaqkagyqomooq); } if ($aqykuigiuwmmcieu) { $ksaameoqigiaoigg = $this->caokeucsksukesyo()->ywqgcuymeiswqyqc()->get($this->cyeasecqqqsquemg($ksaameoqigiaoigg), $aqykuigiuwmmcieu, ''); } return $ksaameoqigiaoigg; } public function cyeasecqqqsquemg($icwicymcioeyeyek) { if (isset($icwicymcioeyeyek[Constants::skogicecygyyskkq])) { if ($this->caokeucsksukesyo()->giiecckwoyiawoyy()->amkiaqeamgywsygm()) { $icwicymcioeyeyek = $icwicymcioeyeyek[Constants::skogicecygyyskkq]; } else { $icwicymcioeyeyek = $icwicymcioeyeyek[Constants::mcaucuyeeiwsmmuy]; } } return $icwicymcioeyeyek; } public function euyyeqkmigikiaam(?string $qgoqiacsiccwoawi = null) { static $cwyqoquoweqqweqk = false; $iuekmkswcsacoawq = Page::symcgieuakksimmu(); if (!$cwyqoquoweqqweqk) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $mumyimcwkaemyyue = $this->uwkmaywceaaaigwo()->owicscwgeuqcqaig(); $uuwwyaeymswgsgsi = $this->caokeucsksukesyo()->eiwcuqigayigimak(); $gqgemcmoicmgaqie = []; if ($mumyimcwkaemyyue->qmssqeyayicowkgy() || $mumyimcwkaemyyue->ocwoeosukggumggw() || $mumyimcwkaemyyue->sgayqmgoigoseaoo()) { $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, $this->caokeucsksukesyo()->kckogqkiycqeumoa()->yyoeeseewqmmyaee($mumyimcwkaemyyue->imgymusqgccqsqqq())), $eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Constants::gmmygyiecgmggaam), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::IDENTIFIER, $mumyimcwkaemyyue->mwyqswsaeeewsosm())]; } else { if ($mumyimcwkaemyyue->kmmyuiwaogukwqqi()) { $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, Constants::skoigciaygmyqkmi), $eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Pattern::usoeisyyakwkuyoy)]; } else { if ($mumyimcwkaemyyue->takycgcamoacksqw() && $uuwwyaeymswgsgsi->weusokmcememmoec()) { $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, Constants::wwoeeogswkgeqack), $eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Pattern::usoeisyyakwkuyoy)]; } else { if ($mumyimcwkaemyyue->gouusicsisumuiei()) { $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, Constants::yayciqueeakqwese), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::IDENTIFIER, $this->caokeucsksukesyo()->owicscwgeuqcqaig()->aeakcoksauwcayom()), $eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Pattern::usoeisyyakwkuyoy)]; } else { if ($mumyimcwkaemyyue->cukiusasccucgwqc()) { $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); if ($mumyimcwkaemyyue->takycgcamoacksqw()) { $post = $uuwwyaeymswgsgsi->weaommwymsyyeoaw(); } else { if ($mumyimcwkaemyyue->seokosgecygsmqau()) { $post = $uuwwyaeymswgsgsi->qqqooiyuyqmyuwqi(); } } if (!isset($post) || !$post) { $post = $seumokooiykcomco->get(); } $useksmwkuswkwcqg = $seumokooiykcomco->gueasuouwqysmomu($post); $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, $useksmwkuswkwcqg), $eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Constants::uouymeyqasaeckso), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::IDENTIFIER, $seumokooiykcomco->iooowgsqoyqseyuu($post))]; } } } } } if ($gqgemcmoicmgaqie) { $gqgemcmoicmgaqie[] = $eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg)->amwwousckkqyweok(); $cwyqoquoweqqweqk = $iuekmkswcsacoawq->iekyeyicoyyawomk()->oqomcmyuuakigusk($gqgemcmoicmgaqie); $migiiksoiymissge = $this->caokeucsksukesyo()->giiecckwoyiawoyy()->ekcymmyqoceukosc(); if ($cwyqoquoweqqweqk) { $this->caokeucsksukesyo()->mskuyeumceaigegs()->info(sprintf('%s detected as page for %s', $iuekmkswcsacoawq->mwyqswsaeeewsosm($cwyqoquoweqqweqk), $migiiksoiymissge)); } else { $this->caokeucsksukesyo()->mskuyeumceaigegs()->info(sprintf('can not find any page for %s', $migiiksoiymissge)); } } } if ($cwyqoquoweqqweqk && $qgoqiacsiccwoawi) { return $iuekmkswcsacoawq->waecsyqmwascmqoa($cwyqoquoweqqweqk, $qgoqiacsiccwoawi); } return $cwyqoquoweqqweqk; } public function qcuuyuyaywogwmee($sqeykgyoooqysmca, $eqgoocgaqwqcimie) : bool { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, $sqeykgyoooqysmca), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg)]; switch ($sqeykgyoooqysmca) { case Constants::uouymeyqasaeckso: break; case Pattern::usoeisyyakwkuyoy: $gqgemcmoicmgaqie[] = $eqwoegegiamegqsm->megqywqeuquawkim($sqeykgyoooqysmca, $eqgoocgaqwqcimie); break; case Constants::mswmgkkakuooukme: break; } return Pattern::symcgieuakksimmu()->iekyeyicoyyawomk()->exists($gqgemcmoicmgaqie); } public function iymcmkkyuwgecwwm($eouekqmooogkoqoo, $suaemuyiacqyugsm) : bool { $ewkaiqqqacmkgqws = false; if ($eouekqmooogkoqoo && $suaemuyiacqyugsm) { $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); $cgcyeiigiuyaeeko = $jwkieqegmyuwayce->ogegcqqcukiaqscy(Constants::squoamkioomemiyi, $eouekqmooogkoqoo); if ($cgcyeiigiuyaeeko === $iuekmkswcsacoawq->ogegcqqcukiaqscy($iuekmkswcsacoawq::wqqksssaoggqceky, $suaemuyiacqyugsm)) { $eyqeaiwksimckmag = $iuekmkswcsacoawq->waecsyqmwascmqoa($suaemuyiacqyugsm, Constants::squoamkioomemiyi); $owqaeesoaygymmcy = $iuekmkswcsacoawq->waecsyqmwascmqoa($suaemuyiacqyugsm, Constants::IDENTIFIER); switch ($cgcyeiigiuyaeeko) { case Constants::uouymeyqasaeckso: if ($eyqeaiwksimckmag === $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::uouymeyqasaeckso)) { $ewkaiqqqacmkgqws = $this->gcokasmymsiaekkg($owqaeesoaygymmcy, $eouekqmooogkoqoo); } break; case $jwkieqegmyuwayce::usoeisyyakwkuyoy: $ewkaiqqqacmkgqws = $owqaeesoaygymmcy === $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::usoeisyyakwkuyoy); break; case Constants::mswmgkkakuooukme: switch ($eyqeaiwksimckmag) { case $jwkieqegmyuwayce::gyiwoemkciiwikiq: $ewkaiqqqacmkgqws = in_array($owqaeesoaygymmcy, $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::gyiwoemkciiwikiq), true); break; case $jwkieqegmyuwayce::mqksqgekwiqkmoyk: $ewkaiqqqacmkgqws = in_array($owqaeesoaygymmcy, $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::yyoaeaaaquyigiim), true); break; case $jwkieqegmyuwayce::skqkgucqggaicigu: $ewkaiqqqacmkgqws = in_array($owqaeesoaygymmcy, $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::emcyuiagkcgsckma), true); break; case $jwkieqegmyuwayce::aisoicwicqkswumu: $wwweqawywmaqacso = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::aisoicwicqkswumu); $ewkaiqqqacmkgqws = $wwweqawywmaqacso && $wwweqawywmaqacso !== Constants::OFF; break; } break; } } } return $ewkaiqqqacmkgqws; } public function cuamaquuyckqeaak($mksyucucyswaukig, $sameaqkagyqomooq) : array { $suaemuyiacqyugsm = []; if ($mksyucucyswaukig instanceof WP_Post) { $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); $suaemuyiacqyugsm = $this->gmowkweososugauu($seumokooiykcomco->ycqquoiyyuesegsy($mksyucucyswaukig, true), $sameaqkagyqomooq, $seumokooiykcomco->iooowgsqoyqseyuu($mksyucucyswaukig), Constants::uouymeyqasaeckso, $seumokooiykcomco->gueasuouwqysmomu($mksyucucyswaukig)); } else { if ($mksyucucyswaukig instanceof WP_Term) { $aoskwucuugeuaeus = $this->caokeucsksukesyo()->kckogqkiycqeumoa(); $kesssewsiegssiya = $aoskwucuugeuaeus->yyoeeseewqmmyaee($mksyucucyswaukig); $suaemuyiacqyugsm = $this->gmowkweososugauu($aoskwucuugeuaeus->qmgcisuuikgmqcsu($mksyucucyswaukig, $kesssewsiegssiya), $sameaqkagyqomooq, $aoskwucuugeuaeus->iooowgsqoyqseyuu($mksyucucyswaukig), Constants::gmmygyiecgmggaam, $kesssewsiegssiya); } } return $suaemuyiacqyugsm; } public function iwuykycuaameiqes($eouekqmooogkoqoo, array $mokmmyiueoiqokyc = []) : array { if (empty($mokmmyiueoiqokyc)) { $mokmmyiueoiqokyc = $this->wegymsqmyauaoqce($eouekqmooogkoqoo); } $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); $sameaqkagyqomooq = $jwkieqegmyuwayce->mwyqswsaeeewsosm($eouekqmooogkoqoo); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $ccosqsyuggiqiuwu = $iuekmkswcsacoawq->iekyeyicoyyawomk()->cieaqygkucwoqwke([$eqwoegegiamegqsm->megqywqeuquawkim($iuekmkswcsacoawq::ewyamgkooeqiecwg, $sameaqkagyqomooq), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::auqoykcmsiauccao, array_column($mokmmyiueoiqokyc, Constants::auqoykcmsiauccao))->cywusuoiegmowioc()]); if ($ccosqsyuggiqiuwu) { foreach ($ccosqsyuggiqiuwu as $mmoasaykomcwqeus) { $iuekmkswcsacoawq->gssiscqyqsacmeca()->gccwawquiskkswiu($mmoasaykomcwqeus, $iuekmkswcsacoawq::ewyamgkooeqiecwg); } } $awyumwiewiauosqy = []; foreach ($mokmmyiueoiqokyc as $oaeaekwuocwiymuy) { $sogksuscggsicmac = $this->igwoeqicuykaamye($sameaqkagyqomooq, $oaeaekwuocwiymuy); if (empty($sogksuscggsicmac) || is_wp_error($sogksuscggsicmac)) { $this->caokeucsksukesyo()->mskuyeumceaigegs()->debug($this->caokeucsksukesyo()->euekiyuksecoccus()->skauuuoqcaiseuks($sogksuscggsicmac)); $awyumwiewiauosqy[] = $oaeaekwuocwiymuy; } } return $awyumwiewiauosqy; } public function wegymsqmyauaoqce($eouekqmooogkoqoo, string $aqykuigiuwmmcieu = Constants::ckmqoekmugkggeym) : array { static $awgugeooosgiiqce = []; $ocqawgquwsqioses = []; if ($eouekqmooogkoqoo) { $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); $sameaqkagyqomooq = $jwkieqegmyuwayce->mwyqswsaeeewsosm($eouekqmooogkoqoo); if (isset($awgugeooosgiiqce[$aqykuigiuwmmcieu][$sameaqkagyqomooq])) { $ocqawgquwsqioses = $awgugeooosgiiqce[$aqykuigiuwmmcieu][$sameaqkagyqomooq]; } else { switch ($jwkieqegmyuwayce->ogegcqqcukiaqscy(Constants::squoamkioomemiyi, $eouekqmooogkoqoo)) { case Constants::uouymeyqasaeckso: if ($useksmwkuswkwcqg = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::uouymeyqasaeckso, '')) { $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); switch ($jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::iycqiaygcgwiwcck)) { case Constants::ALL: $ywmkwiwkosakssii = []; break; case Constants::gmmygyiecgmggaam: $uyuaosigqymaqsaa = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::ucoiewcoucauqwko); $kesssewsiegssiya = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::gmmygyiecgmggaam); if ($uyuaosigqymaqsaa && $kesssewsiegssiya) { $ywmkwiwkosakssii = [Constants::kymceekcoyyeuocm => [[Constants::gmmygyiecgmggaam => $kesssewsiegssiya, Constants::gueokgaoyascgeqe => Constants::ooqggksagkoaeeke, Constants::ucoiewcoucauqwko => $uyuaosigqymaqsaa]]]; } break; case Constants::ackcaikowcokggsc: $ywmkwiwkosakssii = [Constants::eqomgewoayseioos => $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::qgmuskygocwmouos)]; break; case Constants::ccyeycyyykwuymsy: $ywmkwiwkosakssii = [Constants::kcaoouwiygwwmiok => $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::qgmuskygocwmouos)]; break; case Constants::suaucuoeagwokuwo: $cqacuiyauyoscwei = $eisykmiomukgakao = []; $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $kskuyywokkcaegae = $jwkieqegmyuwayce->iekyeyicoyyawomk()->cieaqygkucwoqwke([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, Constants::uouymeyqasaeckso), $eqwoegegiamegqsm->ukywoeuquugocmsu([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::uouymeyqasaeckso, $useksmwkuswkwcqg)])]); foreach ($kskuyywokkcaegae as $ioiiuuwuqimickks) { if (isset($ywmkwiwkosakssii)) { break; } switch ($jwkieqegmyuwayce->waecsyqmwascmqoa($ioiiuuwuqimickks, $jwkieqegmyuwayce::iycqiaygcgwiwcck)) { case Constants::ackcaikowcokggsc: $eisykmiomukgakao += $jwkieqegmyuwayce->waecsyqmwascmqoa($ioiiuuwuqimickks, Constants::qgmuskygocwmouos, []); break; case Constants::ccyeycyyykwuymsy: $cqacuiyauyoscwei += $jwkieqegmyuwayce->waecsyqmwascmqoa($ioiiuuwuqimickks, Constants::qgmuskygocwmouos, []); break; case Constants::ALL: $ywmkwiwkosakssii = null; break; } } if (!isset($ywmkwiwkosakssii)) { $ywmkwiwkosakssii = [Constants::eqomgewoayseioos => $cqacuiyauyoscwei, Constants::kcaoouwiygwwmiok => $eisykmiomukgakao]; } break; } if (isset($ywmkwiwkosakssii) && is_array($ywmkwiwkosakssii)) { $ywmkwiwkosakssii[Constants::gikuasuikwemyqoq] = Constants::wmmucsiyiyusmssm; if ($wyoiwuqokyeeuguk = $seumokooiykcomco->ciugwooasaqcywas($useksmwkuswkwcqg, $ywmkwiwkosakssii, Constants::oyaoekcogwkcekcc)) { if (Constants::ckmqoekmugkggeym === $aqykuigiuwmmcieu) { foreach ($wyoiwuqokyeeuguk as $post) { $migiiksoiymissge = $seumokooiykcomco->ycqquoiyyuesegsy($post, true); $ocqawgquwsqioses[$migiiksoiymissge] = $this->gmowkweososugauu($migiiksoiymissge, $sameaqkagyqomooq, $seumokooiykcomco->iooowgsqoyqseyuu($post), Constants::uouymeyqasaeckso, $useksmwkuswkwcqg); } } else { $ocqawgquwsqioses = $wyoiwuqokyeeuguk; } } } } break; case $jwkieqegmyuwayce::usoeisyyakwkuyoy: $cmimegkacscikwui = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::usoeisyyakwkuyoy); switch ($cmimegkacscikwui) { case Constants::wwoeeogswkgeqack: $iwywmkygwewiamwm = $this->uwkmaywceaaaigwo()->giiecckwoyiawoyy()->auksikwsewaywikq(); $ocqawgquwsqioses[$iwywmkygwewiamwm] = $this->gmowkweososugauu($iwywmkygwewiamwm, $sameaqkagyqomooq, $cmimegkacscikwui, $jwkieqegmyuwayce::usoeisyyakwkuyoy, $cmimegkacscikwui); break; case Constants::skoigciaygmyqkmi: $iwywmkygwewiamwm = $this->uwkmaywceaaaigwo()->giiecckwoyiawoyy()->auksikwsewaywikq() . '/404-notfound-' . time(); $ocqawgquwsqioses[$iwywmkygwewiamwm] = $this->gmowkweososugauu($iwywmkygwewiamwm, $sameaqkagyqomooq, $cmimegkacscikwui, $jwkieqegmyuwayce::usoeisyyakwkuyoy, $cmimegkacscikwui); break; case Constants::yayciqueeakqwese: $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $yyqawuyyqgsymiqk = []; if (Constants::yuwueyysmgkecygw === $this->weysguygiseoukqw(SearchSetting::ckekocwocaogoeye, Constants::yuwueyysmgkecygw)) { $yyqawuyyqgsymiqk[Constants::qiyqwyiiwykeccmo] = $eqwoegegiamegqsm->megqywqeuquawkim(Constants::qiyqwyiiwykeccmo, (int) $this->weysguygiseoukqw(SearchSetting::mwcsquoskuckeweg, 10))->maqiysyuqmwcqoig(Constants::eeiimokswmckomeu); } if (Constants::qwssyugmmaoeqiei === $this->weysguygiseoukqw(SearchSetting::okomcksyqygykaoo, Constants::qwssyugmmaoeqiei)) { $yyqawuyyqgsymiqk[] = $eqwoegegiamegqsm->megqywqeuquawkim(History::imkkyggguymaqgqi, 1); } $biaomokkgwiiqocg = History::symcgieuakksimmu(); $soycyassuqeiaoig = $biaomokkgwiiqocg->iekyeyicoyyawomk()->cieaqygkucwoqwke([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::cqymgkkgeosmoowe), $eqwoegegiamegqsm->megqywqeuquawkim()->eswyoccyuiyiqkco($yyqawuyyqgsymiqk)->iygikqkegwkaaess()]); $gmigwwwmwemyaayy = $this->uwkmaywceaaaigwo()->giiecckwoyiawoyy()->auksikwsewaywikq(); foreach ($soycyassuqeiaoig as $dsamqkqqkgwgoskg) { if ($iwewcwusemqaiggk = $biaomokkgwiiqocg->waecsyqmwascmqoa($dsamqkqqkgwgoskg, Constants::yoayaissyomokiui)) { $ocqawgquwsqioses["{$gmigwwwmwemyaayy}/?s={$iwewcwusemqaiggk}"] = $this->gmowkweososugauu("{$gmigwwwmwemyaayy}/?s={$iwewcwusemqaiggk}", $sameaqkagyqomooq, $iwewcwusemqaiggk, $jwkieqegmyuwayce::usoeisyyakwkuyoy, $cmimegkacscikwui); } } break; } break; case Constants::mswmgkkakuooukme: if ($seyqqsmuaiegkeeq = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::emcyuiagkcgsckma, [])) { $aoskwucuugeuaeus = $this->caokeucsksukesyo()->kckogqkiycqeumoa(); foreach ($seyqqsmuaiegkeeq as $kesssewsiegssiya) { if ($uyuaosigqymaqsaa = $aoskwucuugeuaeus->ciugwooasaqcywas($kesssewsiegssiya, [Constants::ymckmcsiymwqucoq => Constants::oyaoekcogwkcekcc])) { if (Constants::ckmqoekmugkggeym === $aqykuigiuwmmcieu) { foreach ($uyuaosigqymaqsaa as $iwewcwusemqaiggk) { $iwywmkygwewiamwm = $aoskwucuugeuaeus->qmgcisuuikgmqcsu($iwewcwusemqaiggk, $kesssewsiegssiya); $ocqawgquwsqioses[$iwywmkygwewiamwm] = $this->gmowkweososugauu($iwywmkygwewiamwm, $sameaqkagyqomooq, $aoskwucuugeuaeus->iooowgsqoyqseyuu($iwewcwusemqaiggk), Constants::gmmygyiecgmggaam, $kesssewsiegssiya); } } else { $ocqawgquwsqioses += $uyuaosigqymaqsaa; } } } } if ($sciomagaqmgggsiu = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::yyoaeaaaquyigiim, [])) { $cskucqcumqsyimye = $this->caokeucsksukesyo()->gscioiumssogceuc(); $wgcaqkewqyygkgaa = $this->uwkmaywceaaaigwo()->gscioiumssogceuc(); foreach ($sciomagaqmgggsiu as $useksmwkuswkwcqg => $iueymcwwscwqkiyq) { if ($wgcaqkewqyygkgaa->myagqecycsaiyqsk($useksmwkuswkwcqg)) { $iwywmkygwewiamwm = $cskucqcumqsyimye->myagyqumwekameww($useksmwkuswkwcqg); $ocqawgquwsqioses[$iwywmkygwewiamwm] = $this->gmowkweososugauu($iwywmkygwewiamwm, $sameaqkagyqomooq, $useksmwkuswkwcqg, Constants::mswmgkkakuooukme, Constants::uouymeyqasaeckso); } } } if ($wqwgoquoiqcqemke = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::gyiwoemkciiwikiq, [])) { } if ($jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::aisoicwicqkswumu, false)) { $gueemqeuuymqayqg = $this->caokeucsksukesyo()->mguqscccckuywsya()->ciugwooasaqcywas([Constants::mkucwyayaakigquq => true]); foreach ($gueemqeuuymqayqg as $qscaoekmoooeuyqg => $uoiyqmsewicueqma) { $iwywmkygwewiamwm = $this->uwkmaywceaaaigwo()->mguqscccckuywsya()->mkaiaewoyaimieqg($qscaoekmoooeuyqg); $ocqawgquwsqioses[$iwywmkygwewiamwm] = $this->gmowkweososugauu($iwywmkygwewiamwm, $sameaqkagyqomooq, $qscaoekmoooeuyqg, Constants::mswmgkkakuooukme); } } break; } $awgugeooosgiiqce[$aqykuigiuwmmcieu][$sameaqkagyqomooq] = $ocqawgquwsqioses; } } return $ocqawgquwsqioses; } public function gmowkweososugauu(string $eeamcawaiqocomwy, $sameaqkagyqomooq, $owqaeesoaygymmcy, string $ucysgiiogkcwiegi, ?string $sqeykgyoooqysmca = null) : array { $suaemuyiacqyugsm = [Constants::auqoykcmsiauccao => $eeamcawaiqocomwy, Constants::ciywsqoeiymemsys => Constants::eqewsqmqmsiocaeg, Constants::IDENTIFIER => $owqaeesoaygymmcy, Page::ewyamgkooeqiecwg => $sameaqkagyqomooq, Page::wqqksssaoggqceky => $ucysgiiogkcwiegi]; if ($sqeykgyoooqysmca) { $suaemuyiacqyugsm[Constants::squoamkioomemiyi] = $sqeykgyoooqysmca; } return $suaemuyiacqyugsm; } public function mmkkeuaqysmkwieu($gcqseksiskwueksc, $eouekqmooogkoqoo) : bool { $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); $ewkaiqqqacmkgqws = false; $uyuaosigqymaqsaa = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::ucoiewcoucauqwko); $kesssewsiegssiya = $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::gmmygyiecgmggaam); if ($uyuaosigqymaqsaa) { foreach ($uyuaosigqymaqsaa as $iwewcwusemqaiggk) { if ($this->uwkmaywceaaaigwo()->ayueggmoqeeukqmq()->smyaggwyeweiqiie($this->caokeucsksukesyo()->kckogqkiycqeumoa()->aqcogscycyycgkuq($iwewcwusemqaiggk), $kesssewsiegssiya, $gcqseksiskwueksc)) { $ewkaiqqqacmkgqws = true; break; } } } return $ewkaiqqqacmkgqws; } public function gcokasmymsiaekkg($owqaeesoaygymmcy, $eouekqmooogkoqoo) : bool { $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); $ewkaiqqqacmkgqws = false; switch ($jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, $jwkieqegmyuwayce::iycqiaygcgwiwcck, Constants::ALL)) { case Constants::ALL: $ewkaiqqqacmkgqws = true; break; case Constants::gmmygyiecgmggaam: $ewkaiqqqacmkgqws = $this->mmkkeuaqysmkwieu($owqaeesoaygymmcy, $eouekqmooogkoqoo); break; case Constants::ackcaikowcokggsc: $ewkaiqqqacmkgqws = in_array($owqaeesoaygymmcy, $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::qgmuskygocwmouos, []), true); break; case Constants::ccyeycyyykwuymsy: $ewkaiqqqacmkgqws = !in_array($owqaeesoaygymmcy, $jwkieqegmyuwayce->waecsyqmwascmqoa($eouekqmooogkoqoo, Constants::qgmuskygocwmouos, []), true); break; } return $ewkaiqqqacmkgqws; } public function igwoeqicuykaamye($sameaqkagyqomooq, array $cwyqoquoweqqweqk = [], bool $skmgsmimeicuomsg = false) { $ksaameoqigiaoigg = false; if ($cwyqoquoweqqweqk) { $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $cmaccwokqweqweqi = $iuekmkswcsacoawq->iekyeyicoyyawomk()->akkkoiiymmamsauc($cwyqoquoweqqweqk[Constants::auqoykcmsiauccao], Constants::auqoykcmsiauccao); if ($cmaccwokqweqweqi) { if ($skmgsmimeicuomsg || empty($iuekmkswcsacoawq->waecsyqmwascmqoa($cmaccwokqweqweqi, $iuekmkswcsacoawq::ewyamgkooeqiecwg))) { $cwyqoquoweqqweqk[$iuekmkswcsacoawq->kumuygiiqswoyasy()] = $iuekmkswcsacoawq->mwyqswsaeeewsosm($cmaccwokqweqweqi); } else { return false; } } $cwyqoquoweqqweqk[$iuekmkswcsacoawq::ewyamgkooeqiecwg] = $sameaqkagyqomooq; $ksaameoqigiaoigg = $iuekmkswcsacoawq->gssiscqyqsacmeca()->gsegsiocqmsoayii($cwyqoquoweqqweqk); if ($cmaccwokqweqweqi && !is_wp_error($ksaameoqigiaoigg)) { $this->ewcsyqaaigkicgse(Optimization::kgswyesggeyekgmg . 'purge_elected_page_html_cache', $cwyqoquoweqqweqk); } } return $ksaameoqigiaoigg; } public function sesaqkesaeaecoao($eouekqmooogkoqoo) : bool { $ksaameoqigiaoigg = false; if ($sameaqkagyqomooq = Pattern::symcgieuakksimmu()->mwyqswsaeeewsosm($eouekqmooogkoqoo)) { $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $auwuoyyagaiegwae = $iuekmkswcsacoawq->iekyeyicoyyawomk()->ssiyoimagsskwsoi([$eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg, $sameaqkagyqomooq), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg)], Constants::auqoykcmsiauccao); foreach ($auwuoyyagaiegwae as $momcykaoccoymeig => $eeamcawaiqocomwy) { $auwuoyyagaiegwae[$momcykaoccoymeig] = $iuekmkswcsacoawq->esewqawcwouwyesq($eeamcawaiqocomwy); } $this->ewcsyqaaigkicgse(Optimization::kgswyesggeyekgmg . 'purge_urls_html_cache', $auwuoyyagaiegwae); $ksaameoqigiaoigg = true; } return $ksaameoqigiaoigg; } public function cmgakiqmkkiokgmk($eouekqmooogkoqoo, string $iueymcwwscwqkiyq) { $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); if (is_numeric($eouekqmooogkoqoo)) { $eouekqmooogkoqoo = $jwkieqegmyuwayce->iekyeyicoyyawomk()->akkkoiiymmamsauc($eouekqmooogkoqoo); } $sogksuscggsicmac = $jwkieqegmyuwayce->gssiscqyqsacmeca()->wqikesawekycweoi($eouekqmooogkoqoo, [Constants::ciywsqoeiymemsys => $iueymcwwscwqkiyq], true); if ($sogksuscggsicmac[Constants::ckcawaoawwioqecq]) { $this->sesaqkesaeaecoao($eouekqmooogkoqoo); $ksaameoqigiaoigg = true; } else { $ksaameoqigiaoigg = $this->caokeucsksukesyo()->euekiyuksecoccus()->gosmqcmmomkqwmis($sogksuscggsicmac[Constants::iwyueouqaqegmcas]); } return $ksaameoqigiaoigg; } public function gqwuqkumkkkygwuw($sameaqkagyqomooq) : bool { return Constants::eqewsqmqmsiocaeg === $this->weysguygiseoukqw(VirtualBrowserSetting::eoeewcigeywcquis); } public function umyyieuiawqmoeso($qkcoyiyeuoyyoocy, string $iueymcwwscwqkiyq = Constants::eyemmiwoaayukksq, string $aiamqeawckcsuaou = Constants::iwksyuwwwkucsisq, string $eqkagmqcomwssqai = Constants::imeeweugyyqmiykw) : int { return $this->mgwqiausioiwuykw(Constants::imywcsggckkcywgk, $qkcoyiyeuoyyoocy, $aiamqeawckcsuaou, $iueymcwwscwqkiyq, $eqkagmqcomwssqai); } public function qiskoakuecueiauy($qkcoyiyeuoyyoocy, array $icwicymcioeyeyek = [], string $iueymcwwscwqkiyq = Constants::eyemmiwoaayukksq, string $aiamqeawckcsuaou = SpeedTest::quouokcgsyacigiu, string $eqkagmqcomwssqai = Constants::imeeweugyyqmiykw) : int { return $this->aecikuekamaqueoa(Constants::imywcsggckkcywgk, $qkcoyiyeuoyyoocy, $aiamqeawckcsuaou, $icwicymcioeyeyek, $eqkagmqcomwssqai, $iueymcwwscwqkiyq); } public function mysgkyccuicksmiy($sameaqkagyqomooq, array $icwicymcioeyeyek = [], string $eqkagmqcomwssqai = Constants::imeeweugyyqmiykw, string $iueymcwwscwqkiyq = Constants::eyemmiwoaayukksq, string $aiamqeawckcsuaou = VirtualBrowser::asgasewsyuywckgq) : int { return $this->aecikuekamaqueoa(Constants::qakegsaikiimcmkc, $sameaqkagyqomooq, $aiamqeawckcsuaou, $icwicymcioeyeyek, $eqkagmqcomwssqai, $iueymcwwscwqkiyq); } public function kmkoqakwokycescw($ssiumowkmiumicks) { return Local::symcgieuakksimmu()->akkkoiiymmamsauc($ssiumowkmiumicks); } public function gkwiismoucucogyg(string $qwgsusauamosoqmg, $gegoumwwuowkweqe, string $aiamqeawckcsuaou = Constants::iwksyuwwwkucsisq, $iueymcwwscwqkiyq = null) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::esewkmgyoesiksyw, $qwgsusauamosoqmg), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::eqgewieksoieoqiq, $gegoumwwuowkweqe), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uqgcmmosieyimiku, $aiamqeawckcsuaou), $eqwoegegiamegqsm->owogyemaccuymycq(Constants::gouqcwikiiygyasc)->yogqsokgsqemsuoq()]; if ($iueymcwwscwqkiyq) { $gqgemcmoicmgaqie[] = $eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, $iueymcwwscwqkiyq); } return Local::symcgieuakksimmu()->iekyeyicoyyawomk()->oqomcmyuuakigusk($gqgemcmoicmgaqie); } public function yguiwkokaqqcquay($ssiumowkmiumicks) { return Remote::symcgieuakksimmu()->iekyeyicoyyawomk()->akkkoiiymmamsauc($ssiumowkmiumicks); } public function sweusgyeqwgmyauq(string $qwgsusauamosoqmg, $gegoumwwuowkweqe, string $aiamqeawckcsuaou, $iueymcwwscwqkiyq = null) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $gqgemcmoicmgaqie = [$eqwoegegiamegqsm->megqywqeuquawkim(Constants::esewkmgyoesiksyw, $qwgsusauamosoqmg), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::eqgewieksoieoqiq, $gegoumwwuowkweqe), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::uqgcmmosieyimiku, $aiamqeawckcsuaou), $eqwoegegiamegqsm->owogyemaccuymycq(Constants::gouqcwikiiygyasc)->yogqsokgsqemsuoq()]; if ($iueymcwwscwqkiyq) { $gqgemcmoicmgaqie[] = $eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, $iueymcwwscwqkiyq); } return Remote::symcgieuakksimmu()->iekyeyicoyyawomk()->oqomcmyuuakigusk($gqgemcmoicmgaqie); } public function kimwcyscqwuuaway($ssiumowkmiumicks, string $iueymcwwscwqkiyq) : array { return Local::symcgieuakksimmu()->gssiscqyqsacmeca()->wqikesawekycweoi($ssiumowkmiumicks, [Constants::ciywsqoeiymemsys => $iueymcwwscwqkiyq]); } public function wygcssgmcqauoyum($ssiumowkmiumicks, string $iueymcwwscwqkiyq) : array { return Remote::symcgieuakksimmu()->gssiscqyqsacmeca()->wqikesawekycweoi($ssiumowkmiumicks, [Constants::ciywsqoeiymemsys => $iueymcwwscwqkiyq]); } private function aecikuekamaqueoa(string $qwgsusauamosoqmg, int $gegoumwwuowkweqe, string $aiamqeawckcsuaou, array $icwicymcioeyeyek = [], string $eqkagmqcomwssqai = Constants::imeeweugyyqmiykw, string $iueymcwwscwqkiyq = Constants::eyemmiwoaayukksq) : int { $ksaameoqigiaoigg = 0; $sogksuscggsicmac = Remote::symcgieuakksimmu()->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::uiwqcumqkgikqyue => $icwicymcioeyeyek, Constants::uqgcmmosieyimiku => $aiamqeawckcsuaou, Constants::ciywsqoeiymemsys => $iueymcwwscwqkiyq, Constants::eksgkcqkmumuceii => $eqkagmqcomwssqai, Constants::eqgewieksoieoqiq => $gegoumwwuowkweqe, Constants::esewkmgyoesiksyw => $qwgsusauamosoqmg]); if (!is_wp_error($sogksuscggsicmac)) { $ksaameoqigiaoigg = $sogksuscggsicmac[Constants::gouqcwikiiygyasc]; } return $ksaameoqigiaoigg; } private function mgwqiausioiwuykw(string $qwgsusauamosoqmg, int $gegoumwwuowkweqe, string $aiamqeawckcsuaou = Constants::iwksyuwwwkucsisq, string $iueymcwwscwqkiyq = Constants::eyemmiwoaayukksq, string $eqkagmqcomwssqai = Constants::imeeweugyyqmiykw) : int { $ksaameoqigiaoigg = 0; $sogksuscggsicmac = Local::symcgieuakksimmu()->gssiscqyqsacmeca()->gsegsiocqmsoayii([Constants::uqgcmmosieyimiku => $aiamqeawckcsuaou, Constants::ciywsqoeiymemsys => $iueymcwwscwqkiyq, Constants::eqgewieksoieoqiq => $gegoumwwuowkweqe, Constants::eksgkcqkmumuceii => $eqkagmqcomwssqai, Constants::esewkmgyoesiksyw => $qwgsusauamosoqmg]); if (!is_wp_error($sogksuscggsicmac)) { $ksaameoqigiaoigg = $sogksuscggsicmac[Constants::gouqcwikiiygyasc]; } return $ksaameoqigiaoigg; } public function kyqakacqeumicgag($gqgemcmoicmgaqie, string $aqykuigiuwmmcieu = Constants::gouqcwikiiygyasc) { $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $suaemuyiacqyugsm = $iuekmkswcsacoawq->iekyeyicoyyawomk()->oqomcmyuuakigusk($gqgemcmoicmgaqie); if (Constants::gouqcwikiiygyasc === $aqykuigiuwmmcieu) { $suaemuyiacqyugsm = $iuekmkswcsacoawq->mwyqswsaeeewsosm($suaemuyiacqyugsm); } return $suaemuyiacqyugsm; } public function wwccqeqkqkaecoqm($post, string $aqykuigiuwmmcieu = Constants::gouqcwikiiygyasc) { $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); return $this->kyqakacqeumicgag([$eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Constants::uouymeyqasaeckso), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, $seumokooiykcomco->gueasuouwqysmomu($post)), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::IDENTIFIER, $seumokooiykcomco->iooowgsqoyqseyuu($post))], $aqykuigiuwmmcieu); } public function ameqoyekgqggiqme($iwewcwusemqaiggk, ?string $kesssewsiegssiya, string $aqykuigiuwmmcieu = Constants::gouqcwikiiygyasc) { $aoskwucuugeuaeus = $this->caokeucsksukesyo()->kckogqkiycqeumoa(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); return $this->kyqakacqeumicgag([$eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Constants::gmmygyiecgmggaam), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::squoamkioomemiyi, $kesssewsiegssiya ?: $aoskwucuugeuaeus->yyoeeseewqmmyaee($iwewcwusemqaiggk)), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::IDENTIFIER, $aoskwucuugeuaeus->iooowgsqoyqseyuu($iwewcwusemqaiggk))], $aqykuigiuwmmcieu); } public function wwsyamkkyauwseyg(?string $migiiksoiymissge, ?string $syowsmcowosssaos = null) : bool { return (bool) $this->ocksiywmkyaqseou(Optimization::kgswyesggeyekgmg . 'is_cached', false, $migiiksoiymissge, $syowsmcowosssaos); } public function iwuigwiooogcgwwu($sameaqkagyqomooq) { return $this->sweusgyeqwgmyauq(Constants::qakegsaikiimcmkc, $sameaqkagyqomooq, VirtualBrowser::asgasewsyuywckgq); } public function voqagyawicswcaau($sameaqkagyqomooq, string $ccamueccusigaaio = 'cache', bool $eikiusiseqwsokui = false, array $omwmuycmeqcqokom = []) : string { $sogksuscggsicmac = ''; $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); switch ($ccamueccusigaaio) { case 'cache': $eouekqmooogkoqoo = $jwkieqegmyuwayce->iekyeyicoyyawomk()->akkkoiiymmamsauc($sameaqkagyqomooq); $euosoakesygqesgc = $jwkieqegmyuwayce->ogegcqqcukiaqscy(Pattern::hwawamsmicyywemy, $eouekqmooogkoqoo); if ($jwkieqegmyuwayce->suuswouyqwqkcgsk($sameaqkagyqomooq)) { if ($euosoakesygqesgc !== Constants::essowykmgcasaaok) { $jwkieqegmyuwayce->gssiscqyqsacmeca()->wqikesawekycweoi($eouekqmooogkoqoo, [Pattern::hwawamsmicyywemy => Constants::essowykmgcasaaok], true); } $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('Cached', PR__MDL__OPTIMIZATION)); } else { if ($euosoakesygqesgc !== Constants::comsocymaesugswq) { $jwkieqegmyuwayce->gssiscqyqsacmeca()->wqikesawekycweoi($eouekqmooogkoqoo, [Pattern::hwawamsmicyywemy => Constants::comsocymaesugswq], true); } if ($this->iwuigwiooogcgwwu($sameaqkagyqomooq)) { $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('Not Cached', PR__MDL__OPTIMIZATION), IconInterface::kiqsyooieeusaemw, Constants::ecioqysekgaasegg, Constants::agaisgmugicmioge, $eikiusiseqwsokui); } else { $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('Awaiting Setup', PR__MDL__OPTIMIZATION), IconInterface::igicgeomgcqmcwuu, Constants::smkwuwawwaqyimcq, Constants::agaisgmugicmioge, $eikiusiseqwsokui); } } break; case 'latest_run': $ycikkiiimgoqqgsq = Remote::symcgieuakksimmu(); if ($gcemueskwuiggwki = $this->iwuigwiooogcgwwu($sameaqkagyqomooq)) { $iueymcwwscwqkiyq = $ycikkiiimgoqqgsq->ogegcqqcukiaqscy(Constants::ciywsqoeiymemsys, $gcemueskwuiggwki); } else { if ($jwkieqegmyuwayce->suuswouyqwqkcgsk($sameaqkagyqomooq)) { $iueymcwwscwqkiyq = Constants::amcogigwsaqssuai; } else { $iueymcwwscwqkiyq = Constants::scigcyyimwwgmiui; } } $meqocwsecsywiiqs = $ycikkiiimgoqqgsq->yomgsemomcmgekyi(Constants::ciywsqoeiymemsys, $iueymcwwscwqkiyq); switch ($iueymcwwscwqkiyq) { case Constants::scigcyyimwwgmiui: $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('Awaiting Setup', PR__MDL__OPTIMIZATION), IconInterface::igicgeomgcqmcwuu, Constants::smkwuwawwaqyimcq, Constants::agaisgmugicmioge, $eikiusiseqwsokui); break; case Constants::sgoswgskyiiwkyuo: case Constants::eyemmiwoaayukksq: $owmuuoycwiskaeme = $ycikkiiimgoqqgsq->qcwwiyuycagsaikk($gcemueskwuiggwki); $kwkmegesqkqwyska = $ycikkiiimgoqqgsq->waecsyqmwascmqoa($gcemueskwuiggwki, Constants::CREATED_AT); $yqicqqkokawiosom = $this->caokeucsksukesyo()->sgqicqeoumwmsmyw()->gwgmymsuwsceguce() - strtotime($kwkmegesqkqwyska); if ($yqicqqkokawiosom > $owmuuoycwiskaeme) { $yqicqqkokawiosom = $owmuuoycwiskaeme; } else { if ($yqicqqkokawiosom > 0) { $owmuuoycwiskaeme -= floor($yqicqqkokawiosom); } } $sogksuscggsicmac = $this->caokeucsksukesyo()->wmkogisswkckmeua()->sggkkiiqkekaomig([Constants::uissasisiuymwsmu => __('Optimizing...', PR__MDL__OPTIMIZATION), Constants::yeowwkiiyimoykye => ['active' => true, 'passed' => $yqicqqkokawiosom, 'duration' => $owmuuoycwiskaeme, 'showPercentage' => true], Constants::ysskgssgwuwmqwym => ['class' => 'pattern-run', 'data-pattern' => $sameaqkagyqomooq]]); break; case Constants::amcogigwsaqssuai: $sogksuscggsicmac = $this->ewcmcaqiosuumocw($meqocwsecsywiiqs, IconInterface::sucyqiucaqowyomk, Constants::ckcawaoawwioqecq, Constants::agaisgmugicmioge, $eikiusiseqwsokui); break; case Constants::uasuowkaguiwoouw: default: $sogksuscggsicmac = $this->ewcmcaqiosuumocw($meqocwsecsywiiqs, IconInterface::kiqsyooieeusaemw, Constants::ecioqysekgaasegg, Constants::agaisgmugicmioge, $eikiusiseqwsokui); break; } break; case 'pages_cache': $ycikkiiimgoqqgsq = Remote::symcgieuakksimmu(); if ($gcemueskwuiggwki = $this->iwuigwiooogcgwwu($sameaqkagyqomooq)) { $iueymcwwscwqkiyq = $ycikkiiimgoqqgsq->ogegcqqcukiaqscy(Constants::ciywsqoeiymemsys, $gcemueskwuiggwki); } else { if ($jwkieqegmyuwayce->suuswouyqwqkcgsk($sameaqkagyqomooq)) { $iueymcwwscwqkiyq = Constants::amcogigwsaqssuai; } else { $iueymcwwscwqkiyq = Constants::scigcyyimwwgmiui; } } switch ($iueymcwwscwqkiyq) { case Constants::scigcyyimwwgmiui: $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('Awaiting Setup', PR__MDL__OPTIMIZATION), IconInterface::igicgeomgcqmcwuu, Constants::smkwuwawwaqyimcq, Constants::agaisgmugicmioge, $eikiusiseqwsokui); break; case Constants::amcogigwsaqssuai: $sogksuscggsicmac = $this->ygkgmccmouykyygk($sameaqkagyqomooq); break; case Constants::uasuowkaguiwoouw: case Constants::sgoswgskyiiwkyuo: case Constants::eyemmiwoaayukksq: $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('Awaiting Optimize Pattern', PR__MDL__OPTIMIZATION), IconInterface::igicgeomgcqmcwuu, Constants::smkwuwawwaqyimcq, Constants::agaisgmugicmioge, $eikiusiseqwsokui); break; } break; } if ($omwmuycmeqcqokom) { $sogksuscggsicmac = $swqimwqeweekeusq->iaaacsuskiakkwui($sogksuscggsicmac, $omwmuycmeqcqokom); } return $sogksuscggsicmac; } public function ygkgmccmouykyygk($sameaqkagyqomooq, bool $uqiiskyaukiiasik = true) : string { $sogksuscggsicmac = ''; $yeacayasgueouoqc = $this->emygimuicqcskaam($sameaqkagyqomooq); if (!is_bool($yeacayasgueouoqc)) { if ($yeacayasgueouoqc < 100) { if ($uqiiskyaukiiasik) { $okeouiicmwuaykky = $this->weysguygiseoukqw(PreloadSetting::gmwikseimeesqmci, Constants::uucoeqmmykkwsmqc); $cgkukcaimcyswiak = __('Cache Preloader is %s. %s', PR__MDL__OPTIMIZATION); $kgyimayuwqescwew = __('You can %s it through the settings section.', PR__MDL__OPTIMIZATION); switch ($okeouiicmwuaykky) { case PreloadSetting::wymyesceumkaycqk: $cgkukcaimcyswiak = sprintf($cgkukcaimcyswiak, __('active for all pages', PR__MDL__OPTIMIZATION), __('This situation, despite the advantage of shorter cache creation time for all pages, is associated with high inode consumption.', PR__MDL__OPTIMIZATION)); $kgyimayuwqescwew = sprintf($kgyimayuwqescwew, __('deactivate', PR__MDL__OPTIMIZATION)); break; case PreloadSetting::ikasiigackcsqiey: $cgkukcaimcyswiak = sprintf($cgkukcaimcyswiak, __('active for impression pages', PR__MDL__OPTIMIZATION), __('This situation will create the cache of the most visited pages as soon as possible, while consuming a reasonable number of inodes.', PR__MDL__OPTIMIZATION)); $kgyimayuwqescwew = sprintf($kgyimayuwqescwew, __('deactivate', PR__MDL__OPTIMIZATION)); break; case Constants::uucoeqmmykkwsmqc: $cgkukcaimcyswiak = sprintf($cgkukcaimcyswiak, __('inactive', PR__MDL__OPTIMIZATION), __('This situation is accompanied by a longer cache creation time for all pages, despite the low consumption of inodes.', PR__MDL__OPTIMIZATION)); $kgyimayuwqescwew = sprintf($kgyimayuwqescwew, __('activate', PR__MDL__OPTIMIZATION)); break; } $qyaaumygmwoyoeec = Constants::uucoeqmmykkwsmqc !== $okeouiicmwuaykky; $uuyucgkyusckoaeq = $this->caokeucsksukesyo()->wmkogisswkckmeua(); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $uggewwcuaaksiask = [Constants::qescuiwgsyuikume => __('Cache Preloader', PR__MDL__OPTIMIZATION), Constants::ssmskyqgcmeiayco => $swqimwqeweekeusq->iaaacsuskiakkwui($cgkukcaimcyswiak, ['class' => 'mb-3']) . $swqimwqeweekeusq->iaaacsuskiakkwui($kgyimayuwqescwew), Constants::kekekeusyqkouowm => [Constants::wksqmcukwwqwyuuc => ['href' => PreloadSetting::symcgieuakksimmu()->qmgcisuuikgmqcsu(), 'class' => 'pr-btn btn-primary', Constants::qescuiwgsyuikume => __('Change Preload Setting', PR__MDL__OPTIMIZATION)], Constants::OK]]; $miyqsuekoagecmuu = __('Create Cache', PR__MDL__OPTIMIZATION); if ($qyaaumygmwoyoeec) { $pkyyagewkiyckmwy = $swqimwqeweekeusq->iaaacsuskiakkwui(sprintf('%s - %s', $miyqsuekoagecmuu, $uuyucgkyusckoaeq->igiawkoqiogocsau($uggewwcuaaksiask, __('Preloader ON', PR__MDL__OPTIMIZATION)))); } else { $pkyyagewkiyckmwy = $swqimwqeweekeusq->iaaacsuskiakkwui(sprintf('%s - %s', $miyqsuekoagecmuu, $uuyucgkyusckoaeq->igiawkoqiogocsau($uggewwcuaaksiask, __('Preloader OFF', PR__MDL__OPTIMIZATION)))); } $sogksuscggsicmac = $uuyucgkyusckoaeq->sggkkiiqkekaomig([Constants::uissasisiuymwsmu => $pkyyagewkiyckmwy, Constants::yeowwkiiyimoykye => ['showPercentage' => true, Constants::eqewsqmqmsiocaeg => $qyaaumygmwoyoeec, Constants::asmooogmgyecqqka => $yeacayasgueouoqc], Constants::ysskgssgwuwmqwym => ['data-pattern' => $sameaqkagyqomooq]]); } } else { $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('All Pages Cached.', PR__MDL__OPTIMIZATION), IconInterface::sucyqiucaqowyomk, Constants::ckcawaoawwioqecq, Constants::agaisgmugicmioge, true); } } else { $sogksuscggsicmac = $this->ewcmcaqiosuumocw(__('There is no page for pattern.', PR__MDL__OPTIMIZATION), IconInterface::ksosaawiuaiosemw, Constants::ecioqysekgaasegg, Constants::agaisgmugicmioge, true); } return $sogksuscggsicmac; } public function emygimuicqcskaam($sameaqkagyqomooq, bool $syecegoicwwaysmw = true) { static $ugwscesyisaauwwi = []; if (!isset($ugwscesyisaauwwi[$sameaqkagyqomooq])) { $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $gkioossaaiumqqsq = $iuekmkswcsacoawq->iekyeyicoyyawomk(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); if ($syecegoicwwaysmw) { $megmggkiokqkcwou = $gkioossaaiumqqsq->asskucacysemeoiu([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg), $eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg, $sameaqkagyqomooq)]); $skqeckgiuieeusoy = $gkioossaaiumqqsq->asskucacysemeoiu([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg), $eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg, $sameaqkagyqomooq), $eqwoegegiamegqsm->megqywqeuquawkim(Page::csqewiewikwcmcug, Constants::essowykmgcasaaok), $eqwoegegiamegqsm->megqywqeuquawkim(Page::qmaukyqwkwkuouoo, Constants::essowykmgcasaaok)]); } else { $ocqawgquwsqioses = $gkioossaaiumqqsq->cieaqygkucwoqwke([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg), $eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg, $sameaqkagyqomooq)]); $megmggkiokqkcwou = count($ocqawgquwsqioses); if ($megmggkiokqkcwou > 0) { $skqeckgiuieeusoy = 0; foreach ($ocqawgquwsqioses as $suaemuyiacqyugsm) { if ($this->wwsyamkkyauwseyg($iuekmkswcsacoawq->oiucukewkckkwiqc($suaemuyiacqyugsm))) { $skqeckgiuieeusoy++; } } } } $xgwukwqqaseqagay = false; if (isset($skqeckgiuieeusoy)) { if ($skqeckgiuieeusoy < $megmggkiokqkcwou) { $xgwukwqqaseqagay = 100 * $skqeckgiuieeusoy / $megmggkiokqkcwou; } else { $xgwukwqqaseqagay = 100; } } $ugwscesyisaauwwi[$sameaqkagyqomooq] = $xgwukwqqaseqagay; } return $ugwscesyisaauwwi[$sameaqkagyqomooq]; } public function ewcmcaqiosuumocw(string $cmwygeyygwqaemaq, string $wkaqekwwgqsqwcoi = IconInterface::sucyqiucaqowyomk, string $qoiwmokisgikggia = Constants::ckcawaoawwioqecq, string $oiegiwogmwmawkeo = 'md', bool $gskuwmeemyeuwogc = false) : string { $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); return $swqimwqeweekeusq->iaaacsuskiakkwui([$swqimwqeweekeusq->cuoygaaeqeqcuggu($wkaqekwwgqsqwcoi, ['class' => "icon-{$qoiwmokisgikggia} icon-{$oiegiwogmwmawkeo} mr-2"], [Constants::kicoscymgmgqeqgy => $gskuwmeemyeuwogc]), $swqimwqeweekeusq->iaaacsuskiakkwui($cmwygeyygwqaemaq, ['class' => 'my-auto'])], ['class' => 'd-flex mb-1']); } public function ewcycsacookeciii($sameaqkagyqomooq, string $aiamqeawckcsuaou = Constants::iwksyuwwwkucsisq) : array { $iuekmkswcsacoawq = Page::symcgieuakksimmu(); $gieikkmyoqoyseqq = Local::symcgieuakksimmu(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $gqgemcmoicmgaqie = $eqwoegegiamegqsm->kyckwuuiqwmyoqma()->aigweamkyiceyyug()->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::uqgcmmosieyimiku, $aiamqeawckcsuaou))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::esewkmgyoesiksyw, Constants::imywcsggckkcywgk))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owackeyiuiikegqg()->sokmmiiuyqiuoqia($gieikkmyoqoyseqq->myywwqkyiwawwquy(Constants::eqgewieksoieoqiq))->ggmcoioqwgyccyus()->asumqyigwsqmyeoc($iuekmkswcsacoawq))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg, $sameaqkagyqomooq)->asumqyigwsqmyeoc($iuekmkswcsacoawq))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, $iuekmkswcsacoawq->cyqesesmeiwoguik(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg))->asumqyigwsqmyeoc($iuekmkswcsacoawq))->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->owogyemaccuymycq(Constants::eqgewieksoieoqiq)->yogqsokgsqemsuoq()); $qwmwukymaeesumka = $gieikkmyoqoyseqq->iekyeyicoyyawomk()->asskucacysemeoiu($gqgemcmoicmgaqie, Constants::eqgewieksoieoqiq); $gqgemcmoicmgaqie->mmiqqgoaeccgwoqs($eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eyemmiwoaayukksq)->asumqyigwsqmyeoc($iuekmkswcsacoawq)); $oesmwiawuckuamgc = $gieikkmyoqoyseqq->iekyeyicoyyawomk()->asskucacysemeoiu($gqgemcmoicmgaqie, Constants::eqgewieksoieoqiq); return [Constants::ALL => $qwmwukymaeesumka, Constants::DONE => max(0, $qwmwukymaeesumka - $oesmwiawuckuamgc), Constants::eyemmiwoaayukksq => $oesmwiawuckuamgc]; } }
