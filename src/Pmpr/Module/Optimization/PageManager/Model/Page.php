<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             688a215366228             |
    |_______________________________________|
*/
 namespace Pmpr\Module\Optimization\PageManager\Model; use Illuminate\Database\Query\Builder; use Pmpr\Common\Foundation\ORM\View\View; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\Interfaces\IconInterface; use Pmpr\Module\Optimization\Optimization; use Pmpr\Module\Optimization\Optimizer\Cache\HTML\Purge\Ajax; use Pmpr\Module\Optimization\PageManager\SpeedTest\SpeedTest; use Pmpr\Module\Optimization\Setting\Setting; use Pmpr\Module\Optimization\Traits\PageManagerEngineTrait; use WP_Post; use WP_Term; class Page extends Common { use PageManagerEngineTrait; const uyeaawkisqygakmy = 'important'; const ewyamgkooeqiecwg = 'pattern_id'; const yukmawwgmqmimegw = 'process_id'; const qigswaqiqyckqgei = 'publish_date'; const ueskwkeimyyusmss = 'speed_test_id'; const csqewiewikwcmcug = 'mobile_cache_status'; const qmaukyqwkwkuouoo = 'desktop_cache_status'; const aewquksqwqiawiei = 'speed_test_candidate'; const gqcgkgqaousgwgao = 'pre_process_status'; public function register() { $this->saemoowcasogykak(IconInterface::cccywmcmsmqismea)->guiaswksukmgageq(__('Elected Page', PR__MDL__OPTIMIZATION))->muuwuqssqkaieqge(__('Elected Pages', PR__MDL__OPTIMIZATION))->wsqomecyomgauuog(); $this->ecmiqywsauuoccwo(Constants::ieioeisgwcgysukw)->ecmiqywsauuoccwo(Constants::weiosaewqequuyuq, [Constants::kmkiaoimmqayiegg => ['widefat', 'distinct-status'], Constants::yiuwgggacagyeqmo => 10]); $this->swsaakqseuaacagq(Constants::xgimwmogukqqcuky, [$this, 'ywgqgaomoekeewyg'])->swsaakqseuaacagq(Constants::iieuswywqkawosew, [$this, 'aaeswuecycyquqwk']); } public function wigskegsqequoeks() { $this->waqewsckuayqguos(Optimization::kgswyesggeyekgmg . 'cache_html_all_purged', [$this, 'isyswmoagiguumuk'])->waqewsckuayqguos(Optimization::kgswyesggeyekgmg . 'cache_html_url_purged', [$this, 'isyswmoagiguumuk'])->waqewsckuayqguos(Optimization::kgswyesggeyekgmg . 'cache_html_generated', [$this, 'mckwqiommeiyweyw'], 10, 2); parent::wigskegsqequoeks(); } public function kgquecmsgcouyaya() { $this->aqaqisyssqeomwom(Optimization::kgswyesggeyekgmg . 'get_all_available_pages', [$this, 'qoamuoagcacicomg'], 10, 2); parent::kgquecmsgcouyaya(); } public function uwmqacgewuauagai() { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $this->cquokmemekqqywgi($eqwoegegiamegqsm->qsqocqioeeqooquq(Constants::qescuiwgsyuikume)->gswweykyogmsyawy(__('Elected Page Title', PR__MDL__OPTIMIZATION))->iwwmociiuayuwssq(function ($mokouoooiwsmcmiu, $mksyucucyswaukig, $meywaqqsugaoeyys) { $eqgoocgaqwqcimie = $this->waecsyqmwascmqoa($mksyucucyswaukig, Constants::IDENTIFIER); switch ($this->ogegcqqcukiaqscy(self::wqqksssaoggqceky, $mksyucucyswaukig)) { case Constants::uouymeyqasaeckso: $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->ayueggmoqeeukqmq()->qcgakseyaikigqco($eqgoocgaqwqcimie); break; case Constants::gmmygyiecgmggaam: $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->kckogqkiycqeumoa()->qcgakseyaikigqco($eqgoocgaqwqcimie); break; case self::usoeisyyakwkuyoy: switch ($this->waecsyqmwascmqoa($mksyucucyswaukig, Constants::squoamkioomemiyi)) { case Constants::wwoeeogswkgeqack: $eqgoocgaqwqcimie = __('Home Page', PR__MDL__OPTIMIZATION); break; case Constants::yayciqueeakqwese: $eqgoocgaqwqcimie = __('Search Page', PR__MDL__OPTIMIZATION); break; case Constants::skoigciaygmyqkmi: $eqgoocgaqwqcimie = __('Notfound Page', PR__MDL__OPTIMIZATION); break; } break; case Constants::mswmgkkakuooukme: break; } if (!empty($meywaqqsugaoeyys)) { $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $wkaqekwwgqsqwcoi = ''; $wkaqekwwgqsqwcoi .= $this->waecsyqmwascmqoa($mksyucucyswaukig, self::uyeaawkisqygakmy, 0) ? $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::asaomwmaicuoeekg, ['class' => 'icon-warning icon-sm'], [Constants::uociqugwegocyuue => Constants::auuysgqkaqycasyk]) : ''; $wkaqekwwgqsqwcoi .= $this->waecsyqmwascmqoa($mksyucucyswaukig, self::aewquksqwqiawiei, 0) ? $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::qkegeyeuwigieasy, ['class' => 'icon-primary icon-sm'], [Constants::uociqugwegocyuue => Constants::auuysgqkaqycasyk]) : ''; if ($wkaqekwwgqsqwcoi) { $wkaqekwwgqsqwcoi = $swqimwqeweekeusq->gmqyuaqwgiayskei($wkaqekwwgqsqwcoi, ['class' => 'mr-2']); } $eqgoocgaqwqcimie = $wkaqekwwgqsqwcoi . $eqgoocgaqwqcimie; } return $eqgoocgaqwqcimie; }))->cquokmemekqqywgi($eqwoegegiamegqsm->qsqocqioeeqooquq(self::qigswaqiqyckqgei)->gswweykyogmsyawy(__('Publish Date', PR__MDL__OPTIMIZATION))->iwwmociiuayuwssq(function ($mokouoooiwsmcmiu, $mksyucucyswaukig) { $eqgoocgaqwqcimie = '-'; switch ($this->ogegcqqcukiaqscy(self::wqqksssaoggqceky, $mksyucucyswaukig)) { case Constants::uouymeyqasaeckso: if ($post = $this->waecsyqmwascmqoa($mksyucucyswaukig, Constants::IDENTIFIER, 0)) { $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->ayueggmoqeeukqmq()->squyiyimquqicqke('Y-m-d H:i:s', $post, false); $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->skckwsgymkimyuwo()->wgiecqcgakkauywu($eqgoocgaqwqcimie); } break; } return $eqgoocgaqwqcimie; }))->cquokmemekqqywgi($eqwoegegiamegqsm->qsqocqioeeqooquq(self::hwawamsmicyywemy)->gswweykyogmsyawy(__('Cache Status', PR__MDL__OPTIMIZATION))->iwwmociiuayuwssq(function ($mokouoooiwsmcmiu, $mksyucucyswaukig) { $goqqimcssiyagkwy = $this->wkagassgcaqeosio(); $oqseeekuqisekiwy = [Constants::mcaucuyeeiwsmmuy => __('Desktop', PR__MDL__OPTIMIZATION), Constants::skogicecygyyskkq => __('Mobile', PR__MDL__OPTIMIZATION)]; $eqgoocgaqwqcimie = ''; foreach ($oqseeekuqisekiwy as $syowsmcowosssaos => $pkyyagewkiyckmwy) { $awecoekkwawskgus = $syowsmcowosssaos . '_cache_status'; $skqeckgiuieeusoy = $goqqimcssiyagkwy->wwsyamkkyauwseyg($this->oiucukewkckkwiqc($mksyucucyswaukig), $syowsmcowosssaos); $ueuwcuaoieyiouys = $this->ogegcqqcukiaqscy($awecoekkwawskgus, $mksyucucyswaukig); if ($skqeckgiuieeusoy) { if ($ueuwcuaoieyiouys === Constants::comsocymaesugswq) { $this->gssiscqyqsacmeca()->wqikesawekycweoi($mksyucucyswaukig, [$awecoekkwawskgus => Constants::essowykmgcasaaok]); } $eqgoocgaqwqcimie .= $goqqimcssiyagkwy->ewcmcaqiosuumocw($pkyyagewkiyckmwy); } else { if ($ueuwcuaoieyiouys === Constants::essowykmgcasaaok) { $this->gssiscqyqsacmeca()->wqikesawekycweoi($mksyucucyswaukig, [$awecoekkwawskgus => Constants::comsocymaesugswq]); } $eqgoocgaqwqcimie .= $goqqimcssiyagkwy->ewcmcaqiosuumocw($pkyyagewkiyckmwy, IconInterface::kiqsyooieeusaemw, Constants::ecioqysekgaasegg); } } return $eqgoocgaqwqcimie; }))->cquokmemekqqywgi($eqwoegegiamegqsm->gysoeyaguiyewoes(Constants::IDENTIFIER)->gswweykyogmsyawy(__('Identifier', PR__MDL__OPTIMIZATION))->acokiqqgsmoqaeyu())->cquokmemekqqywgi($eqwoegegiamegqsm->omkueasmegecueyk(self::uyeaawkisqygakmy)->gswweykyogmsyawy(__('Important', PR__MDL__OPTIMIZATION))->acokiqqgsmoqaeyu())->cquokmemekqqywgi($eqwoegegiamegqsm->omkueasmegecueyk(self::aewquksqwqiawiei)->gswweykyogmsyawy(__('Speed Test Candidate', PR__MDL__OPTIMIZATION))->acokiqqgsmoqaeyu())->cquokmemekqqywgi($eqwoegegiamegqsm->yyuiuwgokmwioomq(self::wqqksssaoggqceky)->gswweykyogmsyawy(__('Discriminator', PR__MDL__OPTIMIZATION))->acokiqqgsmoqaeyu()->kesomeowemmyygey(1, Constants::uouymeyqasaeckso, __('Post Type', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(2, Constants::gmmygyiecgmggaam, __('Taxonomy', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(3, self::usoeisyyakwkuyoy, __('Special Page', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(4, Constants::mswmgkkakuooukme, __('Archive', PR__MDL__OPTIMIZATION)))->cquokmemekqqywgi($eqwoegegiamegqsm->gysoeyaguiyewoes(Constants::squoamkioomemiyi)->mscsweokoguamsgc(Constants::ieioeisgwcgysukw)->gswweykyogmsyawy(__('Page Type', PR__MDL__OPTIMIZATION))->iwwmociiuayuwssq(function ($eqgoocgaqwqcimie, $mksyucucyswaukig) { switch ($this->ogegcqqcukiaqscy(self::wqqksssaoggqceky, $mksyucucyswaukig)) { case Constants::uouymeyqasaeckso: $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->gscioiumssogceuc()->uikgwcuascgeissw($eqgoocgaqwqcimie); break; case Constants::gmmygyiecgmggaam: $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->yyoeeseewqmmyaee()->uikgwcuascgeissw($eqgoocgaqwqcimie); break; case self::usoeisyyakwkuyoy: switch ($this->waecsyqmwascmqoa($mksyucucyswaukig, Constants::squoamkioomemiyi)) { case Constants::wwoeeogswkgeqack: $eqgoocgaqwqcimie = __('Home Page', PR__MDL__OPTIMIZATION); break; case Constants::yayciqueeakqwese: $eqgoocgaqwqcimie = __('Search Page', PR__MDL__OPTIMIZATION); break; case Constants::skoigciaygmyqkmi: $eqgoocgaqwqcimie = __('Notfound Page', PR__MDL__OPTIMIZATION); break; } break; case Constants::mswmgkkakuooukme: $eqgoocgaqwqcimie = __('Archive', PR__MDL__OPTIMIZATION); break; } return $eqgoocgaqwqcimie; }))->cquokmemekqqywgi($eqwoegegiamegqsm->gysoeyaguiyewoes(Constants::auqoykcmsiauccao)->gswweykyogmsyawy(__('URL', PR__MDL__OPTIMIZATION))->mscsweokoguamsgc(Constants::ieioeisgwcgysukw)->iwwmociiuayuwssq(function ($eqgoocgaqwqcimie, $mksyucucyswaukig) { if ($eqgoocgaqwqcimie) { $eqgoocgaqwqcimie = $this->caokeucsksukesyo()->wmkogisswkckmeua()->ywggokoaagwwqyak([Constants::ogigqueukwysusii => $this->oiucukewkckkwiqc($mksyucucyswaukig), Constants::qescuiwgsyuikume => __('View Page', PR__MDL__OPTIMIZATION), Constants::mgsccwumkcawaqcy => '_blank']); } return $eqgoocgaqwqcimie; }))->cquokmemekqqywgi($eqwoegegiamegqsm->yyuiuwgokmwioomq(Constants::ciywsqoeiymemsys)->gswweykyogmsyawy(__('Status', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(1, Constants::eqewsqmqmsiocaeg, __('Active', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(2, Constants::uucoeqmmykkwsmqc, __('Inactive', PR__MDL__OPTIMIZATION))->eyygsasuqmommkua(Constants::eqewsqmqmsiocaeg)->mscsweokoguamsgc(Constants::ieioeisgwcgysukw)->qassieeyqwaysucq())->cquokmemekqqywgi($eqwoegegiamegqsm->yyuiuwgokmwioomq(self::qmaukyqwkwkuouoo)->qassieeyqwaysucq()->kesomeowemmyygey(2, Constants::essowykmgcasaaok, __('Desktop Cached', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(1, Constants::comsocymaesugswq, __('Desktop Not Cached', PR__MDL__OPTIMIZATION))->gswweykyogmsyawy(__('Desktop Cache Status', PR__MDL__OPTIMIZATION))->acokiqqgsmoqaeyu()->eyygsasuqmommkua(Constants::comsocymaesugswq)->jyumyyugiwwiqomk(999))->cquokmemekqqywgi($eqwoegegiamegqsm->yyuiuwgokmwioomq(self::csqewiewikwcmcug)->qassieeyqwaysucq()->kesomeowemmyygey(2, Constants::essowykmgcasaaok, __('Mobile Cached', PR__MDL__OPTIMIZATION))->kesomeowemmyygey(1, Constants::comsocymaesugswq, __('Mobile Not Cached', PR__MDL__OPTIMIZATION))->gswweykyogmsyawy(__('Mobile Cache Status', PR__MDL__OPTIMIZATION))->acokiqqgsmoqaeyu()->eyygsasuqmommkua(Constants::comsocymaesugswq)->jyumyyugiwwiqomk(999))->cquokmemekqqywgi($eqwoegegiamegqsm->eoaomaokwkwqyqiq(self::ewyamgkooeqiecwg)->gswweykyogmsyawy(__('Pattern', PR__MDL__OPTIMIZATION))->wuuqgaekqeymecag(Pattern::class)->oowcmkiwgqgugkku()->qcqeqimisiisswky()->jyumyyugiwwiqomk(9998))->cquokmemekqqywgi($eqwoegegiamegqsm->eoaomaokwkwqyqiq(self::ueskwkeimyyusmss)->acokiqqgsmoqaeyu()->gswweykyogmsyawy(__('Speed Test', PR__MDL__OPTIMIZATION))->ckgquisaimmgwuyu(SpeedTest::class))->cquokmemekqqywgi($eqwoegegiamegqsm->eoaomaokwkwqyqiq(self::yukmawwgmqmimegw)->jyumyyugiwwiqomk(2)->gswweykyogmsyawy(__('Process Result', PR__MDL__OPTIMIZATION))->geimymogiqyssawi(Process::class)->kkeymosoimmgsaug()->iwwmociiuayuwssq(function ($eqgoocgaqwqcimie, $mksyucucyswaukig) { $acoioasmiqcwagsa = Process::symcgieuakksimmu(); $yuymkuycuoyucucu = $this->iekyeyicoyyawomk()->iscemaoqqckmkago(self::yukmawwgmqmimegw, $mksyucucyswaukig); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); if ($yuymkuycuoyucucu) { $csqeoswygaamwgqk = $acoioasmiqcwagsa->waecsyqmwascmqoa($yuymkuycuoyucucu, $acoioasmiqcwagsa::aseoemqucqqamsky); $ceasiiwowyauceye = $acoioasmiqcwagsa->waecsyqmwascmqoa($yuymkuycuoyucucu, $acoioasmiqcwagsa::igcqykwsmcgkskwe); if ($csqeoswygaamwgqk) { $eqgoocgaqwqcimie = $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::sucyqiucaqowyomk, ['class' => 'icon-success mr-2']) . __('Processed', PR__MDL__OPTIMIZATION); if (!$ceasiiwowyauceye) { $eqgoocgaqwqcimie .= sprintf('<br> %s %s', $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::kiqsyooieeusaemw, ['class' => 'icon-warning mr-2']), __('On process queue to regenerate', PR__MDL__OPTIMIZATION)); } } else { $eqgoocgaqwqcimie = $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::kiqsyooieeusaemw, ['class' => 'icon-warning mr-2']) . __('On process queue', PR__MDL__OPTIMIZATION); } } else { $eqgoocgaqwqcimie = $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::kcyyouekgyaqyqak, ['class' => 'icon-danger mr-2']) . __('Not processed yet', PR__MDL__OPTIMIZATION); } return $eqgoocgaqwqcimie; }))->cquokmemekqqywgi($eqwoegegiamegqsm->qwwuoqeeiyuoyogs(Constants::CREATED_AT)->gswweykyogmsyawy(__('Date of Election', PR__MDL__OPTIMIZATION))->qcqeqimisiisswky()->mscsweokoguamsgc(Constants::ieioeisgwcgysukw)); parent::uwmqacgewuauagai(); } public function aaeswuecycyquqwk($siykeiywomwwuoiw) { return $this->iekyeyicoyyawomk()->weyqgwsqeueuwgsm($siykeiywomwwuoiw, self::uyeaawkisqygakmy, Constants::omaksceqmigeaoko); } public function ywgqgaomoekeewyg($qqomumygoacsmsie, View $mksyucucyswaukig) { $uuyucgkyusckoaeq = $this->caokeucsksukesyo()->wmkogisswkckmeua(); $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); if ($this->qcaekwgmiswccowk(Constants::weiosaewqequuyuq) || $this->qcaekwgmiswccowk(Constants::ieioeisgwcgysukw)) { $mksyucucyswaukig->rsaiaimkmskoiysk(Constants::mqkiiimeocmcyecq, 'show_page', function ($aokagokqyuysuksm, $mksyucucyswaukig) use($qqomumygoacsmsie) { return [Constants::qescuiwgsyuikume => __('View Page', PR__MDL__OPTIMIZATION), Constants::ysskgssgwuwmqwym => ['href' => $this->oiucukewkckkwiqc($mksyucucyswaukig), 'target' => '_blank', 'class' => $qqomumygoacsmsie === Constants::ieioeisgwcgysukw ? 'pr-btn btn-primary' : '']]; }); $mksyucucyswaukig->rsaiaimkmskoiysk(Constants::mqkiiimeocmcyecq, 'purge_cache', function ($aokagokqyuysuksm, $mksyucucyswaukig) use($qqomumygoacsmsie) { $sameaqkagyqomooq = $this->waecsyqmwascmqoa($mksyucucyswaukig, self::ewyamgkooeqiecwg); if (!empty($sameaqkagyqomooq) && Constants::eqewsqmqmsiocaeg === $this->ogegcqqcukiaqscy(Constants::ciywsqoeiymemsys, $mksyucucyswaukig)) { $wwgucssaecqekuek = []; if ($qqomumygoacsmsie === Constants::ieioeisgwcgysukw) { $wwgucssaecqekuek = ['class' => 'pr-btn btn-warning']; } return $this->ysaiweuiueyccoqy($aokagokqyuysuksm, $wwgucssaecqekuek); } return ''; }); $mksyucucyswaukig->rsaiaimkmskoiysk([Constants::meisqwykgaymauka, Constants::cwswygwykwgsqiwu], 'change_important_status', function ($aokagokqyuysuksm, $mksyucucyswaukig) { if ($mksyucucyswaukig) { $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $uqekcqygqwsyikky = $this->waecsyqmwascmqoa($mksyucucyswaukig, self::uyeaawkisqygakmy, 0); $cmyoswawcimsecyy = ''; if ($aaqqkgyougeiueyq = $this->uqeoyqiwywwmsiew(Constants::qescuiwgsyuikume)) { $cmyoswawcimsecyy = $aaqqkgyougeiueyq->ocsuumwkisuiyiki(null, $mksyucucyswaukig); } $ewgwqamkygiqaawc = $swqimwqeweekeusq->iaaacsuskiakkwui([sprintf(__('Pages that are marked as important pages (%s) will always be displayed at the top of the list.', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::asaomwmaicuoeekg, ['class' => 'icon-warning icon-sm mx-1'], [Constants::uociqugwegocyuue => Constants::auuysgqkaqycasyk, Constants::kicoscymgmgqeqgy => true])), '<br class="mb-2">', sprintf(__('Page: %s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis($cmyoswawcimsecyy)), '<br class="mb-2">', sprintf(__('Would you like to change the status of the above page to a %s page?', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->gmqyuaqwgiayskei($uqekcqygqwsyikky ? __('Normal', PR__MDL__OPTIMIZATION) : __('Important', PR__MDL__OPTIMIZATION), ['class' => 'bg-gray-2 py-1 px-2']))], ['class' => 'text-justify']); return [Constants::qescuiwgsyuikume => $uqekcqygqwsyikky ? __('Make Page Normal', PR__MDL__OPTIMIZATION) : __('Make Page Important', PR__MDL__OPTIMIZATION), Constants::qgqyauaqwqmqseim => $uqekcqygqwsyikky ? $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::asaomwmaicuoeekg, ['class' => 'icon-warning'], [Constants::uociqugwegocyuue => Constants::gygcckmmeaskaiai]) : $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::asaomwmaicuoeekg, ['class' => 'icon-warning'], [Constants::uociqugwegocyuue => Constants::auuysgqkaqycasyk]), Constants::ysskgssgwuwmqwym => ['class' => 'btn-outline-primary'], Constants::ismwycwsasweqomi => [Constants::qescuiwgsyuikume => __('Change Page Important or Normal Status', PR__MDL__OPTIMIZATION), Constants::squoamkioomemiyi => Constants::PRIMARY, Constants::ssmskyqgcmeiayco => $ewgwqamkygiqaawc, Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-opt-change-page-important-status pr-btn btn-primary', 'data-page' => $this->mwyqswsaeeewsosm($mksyucucyswaukig), Constants::qescuiwgsyuikume => $uqekcqygqwsyikky ? __('Yes, Make Page Normal', PR__MDL__OPTIMIZATION) : __('Yes, Make Page Important', PR__MDL__OPTIMIZATION), 'data-status' => $uqekcqygqwsyikky ? '0' : '1']]]]; } return ''; }); $mksyucucyswaukig->rsaiaimkmskoiysk([Constants::meisqwykgaymauka, Constants::cwswygwykwgsqiwu], 'change_speed_test_candidate_status', function ($aokagokqyuysuksm, $mksyucucyswaukig) { if ($mksyucucyswaukig) { $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $soisoqkmayygcogk = $this->waecsyqmwascmqoa($mksyucucyswaukig, self::aewquksqwqiawiei, 0); $cmyoswawcimsecyy = ''; if ($aaqqkgyougeiueyq = $this->uqeoyqiwywwmsiew(Constants::qescuiwgsyuikume)) { $aaqqkgyougeiueyq->ocsuumwkisuiyiki(null, $mksyucucyswaukig); } $ewgwqamkygiqaawc = $swqimwqeweekeusq->iaaacsuskiakkwui([$swqimwqeweekeusq->iaaacsuskiakkwui(sprintf(__('From the pages that are marked as speed test candidates (%s), according to the %s, the page speed test will be taken.', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::qkegeyeuwigieasy, ['class' => 'icon-primary icon-sm mx-1'], [Constants::uociqugwegocyuue => Constants::auuysgqkaqycasyk, Constants::kicoscymgmgqeqgy => true]), $swqimwqeweekeusq->yuawgssgauywkiia(__('Applied Settings', PR__MDL__OPTIMIZATION), Setting::symcgieuakksimmu()->gamgkoooceoaaeie('speed_test'), ['class' => 'as-link'])), ['class' => 'mb-2']), $swqimwqeweekeusq->iaaacsuskiakkwui(sprintf(__('Page: %s', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->ciuuiyckmsygceis($cmyoswawcimsecyy)), ['class' => 'mb-2']), $swqimwqeweekeusq->iaaacsuskiakkwui(sprintf(__('Do you want to change the status of the above page to %s?', PR__MDL__OPTIMIZATION), $swqimwqeweekeusq->gmqyuaqwgiayskei($soisoqkmayygcogk ? __('Dont Take Speed Test', PR__MDL__OPTIMIZATION) : __('Take Speed Test', PR__MDL__OPTIMIZATION), ['class' => 'bg-gray-2 py-1 px-2'])), ['class' => 'mb-2'])], ['class' => 'text-justify']); return [Constants::qescuiwgsyuikume => $soisoqkmayygcogk ? __('Dont Take Speed Test', PR__MDL__OPTIMIZATION) : __('Take Speed Test', PR__MDL__OPTIMIZATION), Constants::qgqyauaqwqmqseim => $soisoqkmayygcogk ? $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::qkegeyeuwigieasy, [], [Constants::uociqugwegocyuue => Constants::gygcckmmeaskaiai]) : $swqimwqeweekeusq->cuoygaaeqeqcuggu(IconInterface::qkegeyeuwigieasy, [], [Constants::uociqugwegocyuue => Constants::auuysgqkaqycasyk]), Constants::ysskgssgwuwmqwym => ['class' => 'btn-outline-primary'], Constants::ismwycwsasweqomi => [Constants::qescuiwgsyuikume => __('Change Page Speed Test Status', PR__MDL__OPTIMIZATION), Constants::squoamkioomemiyi => Constants::PRIMARY, Constants::ssmskyqgcmeiayco => $ewgwqamkygiqaawc, Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-opt-change-page-speed-test-candidate-status pr-btn btn-primary', 'data-page' => $aokagokqyuysuksm, Constants::qescuiwgsyuikume => $soisoqkmayygcogk ? __('Yes, Dont Take Speed Test', PR__MDL__OPTIMIZATION) : __('Yes, Take Speed Test', PR__MDL__OPTIMIZATION), 'data-status' => $soisoqkmayygcogk ? '0' : '1']]]]; } return ''; }); if ($this->qcaekwgmiswccowk(Constants::weiosaewqequuyuq)) { $mksyucucyswaukig->skmmaimsukseaacw(Constants::mqkiiimeocmcyecq, Constants::ieioeisgwcgysukw); $mksyucucyswaukig->rsaiaimkmskoiysk(Constants::ecwwqsqmiiqocoyw, 'purge_action', __('Purge Cache', PR__MDL__OPTIMIZATION)); $mksyucucyswaukig->rsaiaimkmskoiysk(Constants::mqkiiimeocmcyecq, 'activation', function ($aokagokqyuysuksm, $mksyucucyswaukig) use($uuyucgkyusckoaeq, $swqimwqeweekeusq) { $ggocakcisguuokai = Constants::eqewsqmqmsiocaeg === $this->ogegcqqcukiaqscy(Constants::ciywsqoeiymemsys, $mksyucucyswaukig); $meqocwsecsywiiqs = $ggocakcisguuokai ? __('Deactivate', PR__MDL__OPTIMIZATION) : __('Activate', PR__MDL__OPTIMIZATION); return $uuyucgkyusckoaeq->igiawkoqiogocsau([Constants::squoamkioomemiyi => $ggocakcisguuokai ? Constants::ecioqysekgaasegg : Constants::PRIMARY, Constants::qescuiwgsyuikume => sprintf(__('%s the Page', PR__MDL__OPTIMIZATION), $meqocwsecsywiiqs), Constants::ssmskyqgcmeiayco => $swqimwqeweekeusq->iaaacsuskiakkwui([$ggocakcisguuokai ? __('Deactivating the page will prevent optimization of that page, are you sure?', PR__MDL__OPTIMIZATION) : __('Activating the page will resume optimizing that page, do you continue?', PR__MDL__OPTIMIZATION)], ['class' => 'text-justify']), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-opt-change-page-status pr-btn btn-' . ($ggocakcisguuokai ? Constants::ecioqysekgaasegg : Constants::PRIMARY), 'data-page' => $aokagokqyuysuksm, Constants::qescuiwgsyuikume => $meqocwsecsywiiqs, 'data-status' => $ggocakcisguuokai ? Constants::uucoeqmmykkwsmqc : Constants::eqewsqmqmsiocaeg]]], $meqocwsecsywiiqs); }); $mksyucucyswaukig->rsaiaimkmskoiysk(Constants::imywcsggckkcywgk, Constants::ukwaycqmyyuekwqg, [Constants::qescuiwgsyuikume => __('Add New Elected Page', PR__MDL__OPTIMIZATION), Constants::ysskgssgwuwmqwym => $uuyucgkyusckoaeq->ymgmywskuwyiymwm([Constants::qescuiwgsyuikume => __('Add New Elected Page', PR__MDL__OPTIMIZATION), Constants::ssmskyqgcmeiayco => $swqimwqeweekeusq->iaaacsuskiakkwui([$swqimwqeweekeusq->iaaacsuskiakkwui(__('It is possible to add a new elected page by editing or adding a pattern.', PR__MDL__OPTIMIZATION), ['class' => 'mb-3']), $swqimwqeweekeusq->iaaacsuskiakkwui(__('Would you like to see get all patterns page?', PR__MDL__OPTIMIZATION))], ['class' => 'text-justify']), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-btn btn-primary', Constants::qescuiwgsyuikume => __('Ge Patterns List', PR__MDL__OPTIMIZATION), 'href' => Pattern::symcgieuakksimmu()->ckwicogmemcwawmy(Constants::weiosaewqequuyuq)]]], ['class' => 'pr-btn btn-outline-primary'])]); if ($this->iekyeyicoyyawomk()->exists($this->iekyeyicoyyawomk()->cieaqygkucwoqwke([$this->caokeucsksukesyo()->skckwsgymkimyuwo()->megqywqeuquawkim(self::ewyamgkooeqiecwg)->wegeyaguowmkqiac()]))) { $mksyucucyswaukig->rsaiaimkmskoiysk(Constants::imywcsggckkcywgk, 'delete_orphan_pages', [Constants::qescuiwgsyuikume => __('Delete Orphan Elected Pages', PR__MDL__OPTIMIZATION), Constants::ysskgssgwuwmqwym => $uuyucgkyusckoaeq->ymgmywskuwyiymwm([Constants::squoamkioomemiyi => Constants::wyaqwomqwwaoiwas, Constants::qescuiwgsyuikume => __('Delete Orphan(without pattern) Elected Pages', PR__MDL__OPTIMIZATION), Constants::ssmskyqgcmeiayco => $swqimwqeweekeusq->iaaacsuskiakkwui([$swqimwqeweekeusq->iaaacsuskiakkwui(__('As a result of removing some patterns, the elected pages connected to it have no patterns.', PR__MDL__OPTIMIZATION), ['class' => 'mb-3']), $swqimwqeweekeusq->iaaacsuskiakkwui(__('Do you want to remove the elected pages that have no pattern?', PR__MDL__OPTIMIZATION))], ['class' => 'text-justify']), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-btn btn-danger pr-opt-delete-orphan-pages', Constants::qescuiwgsyuikume => __('Yes, be deleted', PR__MDL__OPTIMIZATION)]]], ['class' => 'pr-btn btn-outline-danger'])]); } } else { $mksyucucyswaukig->rsaiaimkmskoiysk(Constants::imywcsggckkcywgk, Constants::DELETE, function ($mksyucucyswaukig) use($uuyucgkyusckoaeq, $swqimwqeweekeusq) { $sameaqkagyqomooq = $this->waecsyqmwascmqoa($mksyucucyswaukig, self::ewyamgkooeqiecwg); $cmyoswawcimsecyy = ''; if ($aaqqkgyougeiueyq = $this->uqeoyqiwywwmsiew(Constants::qescuiwgsyuikume)) { $cmyoswawcimsecyy = $aaqqkgyougeiueyq->ocsuumwkisuiyiki($this->waecsyqmwascmqoa($mksyucucyswaukig, Constants::IDENTIFIER), $mksyucucyswaukig); } return $uuyucgkyusckoaeq->igiawkoqiogocsau([Constants::qescuiwgsyuikume => sprintf(__('Delete %s elected page', PR__MDL__OPTIMIZATION), $this->caokeucsksukesyo()->owgcciayoweymuws()->kogyygyqqyqcioeg($cmyoswawcimsecyy, 70)), Constants::ssmskyqgcmeiayco => $swqimwqeweekeusq->iaaacsuskiakkwui([$swqimwqeweekeusq->iaaacsuskiakkwui(__('It is possible to delete the elected page by editing the connected pattern.', PR__MDL__OPTIMIZATION), ['class' => 'mb-3']), $swqimwqeweekeusq->iaaacsuskiakkwui(__('Would you like to edit the connected pattern to the elected page?', PR__MDL__OPTIMIZATION))], ['class' => 'text-justify']), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, ['class' => 'pr-btn btn-primary', Constants::qescuiwgsyuikume => __('Edit Connected Pattern', PR__MDL__OPTIMIZATION), 'href' => Pattern::symcgieuakksimmu()->ckwicogmemcwawmy(Constants::awysmmukegasimmq, $sameaqkagyqomooq)]]], __('Delete', PR__MDL__OPTIMIZATION), ['class' => 'pr-btn btn-danger']); }); } } } public function isyswmoagiguumuk($eeamcawaiqocomwy = '') { $icwicymcioeyeyek = [self::csqewiewikwcmcug => Constants::comsocymaesugswq, self::qmaukyqwkwkuouoo => Constants::comsocymaesugswq]; if ($eeamcawaiqocomwy && $this->caokeucsksukesyo()->gyecsegqciqykomu()->wmcwegoisyeeosqu($eeamcawaiqocomwy)) { $xeciwimgioieayek = $this->esewqawcwouwyesq($eeamcawaiqocomwy, false); if ($xeciwimgioieayek) { $suaemuyiacqyugsm = $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($xeciwimgioieayek, Constants::auqoykcmsiauccao); if ($suaemuyiacqyugsm) { $this->gssiscqyqsacmeca()->wqikesawekycweoi($suaemuyiacqyugsm, $icwicymcioeyeyek, true); } } } else { $this->gssiscqyqsacmeca()->oisyoywgmmaawqmy($icwicymcioeyeyek); } } public function mckwqiommeiyweyw($esaqeawoigqgagum, $xeciwimgioieayek = '') { if ($xeciwimgioieayek && $esaqeawoigqgagum) { $suaemuyiacqyugsm = $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($xeciwimgioieayek, Constants::auqoykcmsiauccao); if ($suaemuyiacqyugsm) { if ($this->caokeucsksukesyo()->owgcciayoweymuws()->ykemmsoumouomkqm($esaqeawoigqgagum, '-mobile.html')) { $qgoqiacsiccwoawi = self::csqewiewikwcmcug; } else { $qgoqiacsiccwoawi = self::qmaukyqwkwkuouoo; } $this->gssiscqyqsacmeca()->wqikesawekycweoi($suaemuyiacqyugsm, [$qgoqiacsiccwoawi => Constants::essowykmgcasaaok], true); } } } public function qoamuoagcacicomg($ocqawgquwsqioses, string $qgoqiacsiccwoawi = null) : array { $jwkieqegmyuwayce = Pattern::symcgieuakksimmu(); $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $uymyaeeowcuoksgm = $this->iekyeyicoyyawomk()->cieaqygkucwoqwke([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg), $eqwoegegiamegqsm->owackeyiuiikegqg()->sokmmiiuyqiuoqia(self::ewyamgkooeqiecwg)->ggmcoioqwgyccyus(), $eqwoegegiamegqsm->megqywqeuquawkim(self::ewyamgkooeqiecwg)->amwwousckkqyweok(), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg)->asumqyigwsqmyeoc($jwkieqegmyuwayce), $eqwoegegiamegqsm->megqywqeuquawkim(self::hwawamsmicyywemy, Constants::essowykmgcasaaok)->asumqyigwsqmyeoc($jwkieqegmyuwayce)], [$this->kumuygiiqswoyasy(true), $this->myywwqkyiwawwquy(Constants::auqoykcmsiauccao), $this->myywwqkyiwawwquy(self::ewyamgkooeqiecwg)]); $qsqwqsymmqeoqwcu = []; foreach ($uymyaeeowcuoksgm as $suaemuyiacqyugsm) { $suaemuyiacqyugsm = (array) $suaemuyiacqyugsm; $sameaqkagyqomooq = $this->waecsyqmwascmqoa($suaemuyiacqyugsm, self::ewyamgkooeqiecwg); if (!$sameaqkagyqomooq) { continue; } if (isset($suaemuyiacqyugsm[Constants::auqoykcmsiauccao])) { $suaemuyiacqyugsm[Constants::auqoykcmsiauccao] = $this->esewqawcwouwyesq($suaemuyiacqyugsm[Constants::auqoykcmsiauccao]); } $qkcoyiyeuoyyoocy = $this->mwyqswsaeeewsosm($suaemuyiacqyugsm); if ($qgoqiacsiccwoawi) { $suaemuyiacqyugsm = $this->waecsyqmwascmqoa($suaemuyiacqyugsm, $qgoqiacsiccwoawi); } $qsqwqsymmqeoqwcu[$qkcoyiyeuoyyoocy] = $suaemuyiacqyugsm; } return $qsqwqsymmqeoqwcu; } public function ysaiweuiueyccoqy($qkcoyiyeuoyyoocy, $wwgucssaecqekuek = []) { $uuyucgkyusckoaeq = $this->caokeucsksukesyo()->wmkogisswkckmeua(); return $uuyucgkyusckoaeq->icqkogwskuwscskk([Constants::squoamkioomemiyi => Constants::ecioqysekgaasegg, Constants::qescuiwgsyuikume => __('Re-Optimize', PR__MDL__OPTIMIZATION), Constants::PREFIX => "reoptimize_page_{$qkcoyiyeuoyyoocy}", Constants::ssmskyqgcmeiayco => __('Are you sure about re-optimize elected page?', PR__MDL__OPTIMIZATION), Constants::kekekeusyqkouowm => [Constants::mosycwwoqguicaeo, 'reoptimize' => $uuyucgkyusckoaeq->sggkmaawiqsqikgu(Ajax::qqeiugkgqcoamkma, __('Re-Optimize', PR__MDL__OPTIMIZATION), [Constants::imywcsggckkcywgk => $qkcoyiyeuoyyoocy, Constants::yyamasygmiymuoce => self::qwmouieeiikqoewq], ['class' => 'pr-btn btn-primary'])]], [Constants::ELEMENT => 'a', Constants::qescuiwgsyuikume => __('Purge Cache', PR__MDL__OPTIMIZATION), Constants::ysskgssgwuwmqwym => $wwgucssaecqekuek]); } public function ukcqkkgyogwoiccm() : array { return [Constants::ciywsqoeiymemsys, self::qmaukyqwkwkuouoo, self::csqewiewikwcmcug]; } public function sigsaicaiyegiqea($icwicymcioeyeyek) { $sogksuscggsicmac = false; if (!$this->iekyeyicoyyawomk()->kiaweikcmkuqseuu($icwicymcioeyeyek)) { $sogksuscggsicmac = $this->gssiscqyqsacmeca()->gsegsiocqmsoayii($icwicymcioeyeyek); } return $sogksuscggsicmac; } public function eiswegiqykyigwig($suaemuyiacqyugsm) { $ksaameoqigiaoigg = null; if (is_numeric($suaemuyiacqyugsm)) { $suaemuyiacqyugsm = $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($suaemuyiacqyugsm); } if (!is_object($suaemuyiacqyugsm)) { return false; } switch ($this->ogegcqqcukiaqscy(self::wqqksssaoggqceky, $suaemuyiacqyugsm)) { case Constants::uouymeyqasaeckso: $ksaameoqigiaoigg = $this->caokeucsksukesyo()->ayueggmoqeeukqmq()->get($this->waecsyqmwascmqoa($suaemuyiacqyugsm, Constants::IDENTIFIER)); break; case Constants::gmmygyiecgmggaam: $ksaameoqigiaoigg = $this->caokeucsksukesyo()->kckogqkiycqeumoa()->get($this->waecsyqmwascmqoa($suaemuyiacqyugsm, Constants::IDENTIFIER)); break; case self::usoeisyyakwkuyoy: break; case Constants::mswmgkkakuooukme: break; } return $ksaameoqigiaoigg; } public function oiucukewkckkwiqc($suaemuyiacqyugsm) : string { $eeamcawaiqocomwy = ''; if (is_numeric($suaemuyiacqyugsm)) { $suaemuyiacqyugsm = $this->iekyeyicoyyawomk()->akkkoiiymmamsauc($suaemuyiacqyugsm); } if ($owqaeesoaygymmcy = $this->eiswegiqykyigwig($suaemuyiacqyugsm)) { if ($owqaeesoaygymmcy instanceof WP_Post) { $eeamcawaiqocomwy = $this->caokeucsksukesyo()->ayueggmoqeeukqmq()->ycqquoiyyuesegsy($owqaeesoaygymmcy); } else { if ($owqaeesoaygymmcy instanceof WP_Term) { $eeamcawaiqocomwy = $this->caokeucsksukesyo()->kckogqkiycqeumoa()->qmgcisuuikgmqcsu($owqaeesoaygymmcy); } else { if (is_string($owqaeesoaygymmcy)) { $eeamcawaiqocomwy = $owqaeesoaygymmcy; } } } } else { $eeamcawaiqocomwy = $this->esewqawcwouwyesq($this->waecsyqmwascmqoa($suaemuyiacqyugsm, Constants::auqoykcmsiauccao)); } return $eeamcawaiqocomwy; } public function esewqawcwouwyesq(?string $eeamcawaiqocomwy, bool $uescmseksquycukc = true) : string { $qsqwqsymmqeoqwcu = ''; if ($eeamcawaiqocomwy) { $yuwymayicwwqiske = untrailingslashit($this->uwkmaywceaaaigwo()->giiecckwoyiawoyy()->auksikwsewaywikq()); if ($uescmseksquycukc) { $qsqwqsymmqeoqwcu = $yuwymayicwwqiske . $eeamcawaiqocomwy; } else { $qsqwqsymmqeoqwcu = $this->caokeucsksukesyo()->owgcciayoweymuws()->wiecmkiugmyyqiqc($yuwymayicwwqiske, '', $eeamcawaiqocomwy); } } return $qsqwqsymmqeoqwcu; } }
