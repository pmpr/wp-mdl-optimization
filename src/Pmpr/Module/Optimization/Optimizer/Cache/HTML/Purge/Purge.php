<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             6889ff6f307ad             |
    |_______________________________________|
*/
 namespace Pmpr\Module\Optimization\Optimizer\Cache\HTML\Purge; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Module\Optimization\Optimization; use Pmpr\Module\Optimization\Optimizer\Cache\Purge\Purge as BaseClass; use Pmpr\Module\Optimization\PageManager\Model\Page; use Pmpr\Module\Optimization\Traits\PageManagerEngineTrait; class Purge extends BaseClass { use PageManagerEngineTrait; public function mameiwsayuyquoeq() { if ($this->caokeucsksukesyo()->owicscwgeuqcqaig()->mcgoysmkqsqooceq(Ajax::wiysygukkaksueso)) { Ajax::symcgieuakksimmu(); } } public function kgquecmsgcouyaya() { $this->cecaguuoecmccuse('widget_update_callback', [$this, 'agycgcymcayymyss']); } public function wigskegsqequoeks() { if ($this->uykissogmuaaocsg()->gimogqqgyqwiwsmi()) { $this->qcsmikeggeemccuu('post_row_actions', [$this, 'ockueoymcowuoquq'], 10, 2)->qcsmikeggeemccuu('page_row_actions', [$this, 'ockueoymcowuoquq'], 10, 2); $this->gsyaiygyoimkqmqw(); $this->gmaougkggeqwyeua(); $this->uogmgquicgsqiyqy(); $this->waqewsckuayqguos(Optimization::kgswyesggeyekgmg . 'purge_urls_html_cache', [$this, 'wukyaekysskwwyae'])->waqewsckuayqguos(Optimization::kgswyesggeyekgmg . 'purge_elected_page_html_cache', [$this, 'tsmauawueomweecg']); } } public function gsyaiygyoimkqmqw() { $this->qcsmikeggeemccuu('add_link', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('edit_link', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('delete_link', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('switch_theme', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('customize_save', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('wp_update_nav_menu', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('update_option_tag_base', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('update_option_category_base', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('permalink_structure_changed', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('update_option_sidebars_widgets', [$this, 'yqemcmaqsuqeuugu'])->qcsmikeggeemccuu('upgrader_process_complete', [$this, 'uaiyayqcymooywcm'], 10, 2); $this->waqewsckuayqguos(Optimization::kgswyesggeyekgmg . 'purge_html_cache', [$this, 'yqemcmaqsuqeuugu']); } public function gmaougkggeqwyeua() { $this->qcsmikeggeemccuu('delete_post', [$this, 'ekcemquyyiqykmoo'])->qcsmikeggeemccuu('wp_trash_post', [$this, 'ekcemquyyiqykmoo'])->qcsmikeggeemccuu('clean_post_cache', [$this, 'ekcemquyyiqykmoo'])->qcsmikeggeemccuu('wp_update_comment_count', [$this, 'ekcemquyyiqykmoo'])->qcsmikeggeemccuu('pre_post_update', [$this, 'gcaaecywmiuogkca'], 10, 2)->qcsmikeggeemccuu('pre_post_update', [$this, 'iggmiwcyuuekeeak'], PHP_INT_MAX, 2); } public function ockueoymcowuoquq($ccowyogiqwikkkie, $post) { if ($this->isgmmgcaqsguwias()->eioauiqeyweiokag()->ckuaeyecaekkkwqs($post)) { $eqwoegegiamegqsm = $this->caokeucsksukesyo()->skckwsgymkimyuwo(); $qkcoyiyeuoyyoocy = $this->wkagassgcaqeosio()->kyqakacqeumicgag([$eqwoegegiamegqsm->megqywqeuquawkim(Constants::ciywsqoeiymemsys, Constants::eqewsqmqmsiocaeg), $eqwoegegiamegqsm->megqywqeuquawkim(Constants::IDENTIFIER, $this->caokeucsksukesyo()->ayueggmoqeeukqmq()->iooowgsqoyqseyuu($post, true)), $eqwoegegiamegqsm->megqywqeuquawkim(Page::wqqksssaoggqceky, Constants::uouymeyqasaeckso), $eqwoegegiamegqsm->megqywqeuquawkim(Page::ewyamgkooeqiecwg)->amwwousckkqyweok()]); if ($qkcoyiyeuoyyoocy) { $ccowyogiqwikkkie['reoptimize'] = Page::symcgieuakksimmu()->ysaiweuiueyccoqy($qkcoyiyeuoyyoocy); } } return $ccowyogiqwikkkie; } public function uogmgquicgsqiyqy() { $this->qcsmikeggeemccuu('edit_term', [$this, 'suiuswewcumcyqms'], 10, 3)->qcsmikeggeemccuu('create_term', [$this, 'suiuswewcumcyqms'], 10, 3)->qcsmikeggeemccuu('delete_term', [$this, 'suiuswewcumcyqms'], 10, 3); } public function agycgcymcayymyss($owgumcsyqsamiemg) { $this->yqemcmaqsuqeuugu(); return $owgumcsyqsamiemg; } public function uaiyayqcymooywcm($wp_upgrader, $gyskaqycyaywiiyi) { if (!isset($gyskaqycyaywiiyi['action']) || 'update' !== $gyskaqycyaywiiyi['action']) { return; } if (!isset($gyskaqycyaywiiyi['type']) || 'theme' !== $gyskaqycyaywiiyi['type']) { return; } if (!isset($gyskaqycyaywiiyi['themes']) || !is_array($gyskaqycyaywiiyi['themes'])) { return; } $cocswwkmaykeguwu = $this->uwkmaywceaaaigwo()->ogciwyoqgciosgcw()->ogciwyoqgciosgcw(); $sgmuqamasucuikqa = [ $cocswwkmaykeguwu->get_template(), $cocswwkmaykeguwu->get_stylesheet(), ]; if (empty(array_intersect($gyskaqycyaywiiyi['themes'], $sgmuqamasucuikqa))) { return; } $this->yqemcmaqsuqeuugu(); } public function iggmiwcyuuekeeak($gcqseksiskwueksc, $wqqwgmoemsyoyyqm) { $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); if (in_array($seumokooiykcomco->ucwmcwqmqwaymkkc($gcqseksiskwueksc), [Constants::ywskismomwmcsqam, Constants::sgoswgskyiiwkyuo, Constants::iuemaweiggauysws, Constants::scwmgoegsukauoku], true)) { return; } $ugmsaqkowmocawya = $seumokooiykcomco->aqcogscycyycgkuq($gcqseksiskwueksc); if ($ugmsaqkowmocawya === $wqqwgmoemsyoyyqm[Constants::uiaeiwkkmoayqasu]) { return; } if (empty($ugmsaqkowmocawya)) { return; } $this->ekcemquyyiqykmoo($gcqseksiskwueksc); } public function gcaaecywmiuogkca($gcqseksiskwueksc, $wqqwgmoemsyoyyqm) { $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); if (Constants::wmmucsiyiyusmssm !== $seumokooiykcomco->ucwmcwqmqwaymkkc($gcqseksiskwueksc) || Constants::ywskismomwmcsqam !== $seumokooiykcomco->ucwmcwqmqwaymkkc($wqqwgmoemsyoyyqm)) { $this->ekcemquyyiqykmoo($gcqseksiskwueksc); } } public function ekcemquyyiqykmoo($gcqseksiskwueksc) : bool { return $this->uykissogmuaaocsg()->ussmokeesuogauca($gcqseksiskwueksc); } public function tsmauawueomweecg($suaemuyiacqyugsm) : bool { return $this->uykissogmuaaocsg()->megokskeiiacqoii($suaemuyiacqyugsm); } public function suiuswewcumcyqms($ucicuwcaawugkseg, $aioqgggsymcimwqa, $kesssewsiegssiya) { if ($this->caokeucsksukesyo()->yyoeeseewqmmyaee()->cekoogweeooasayu($kesssewsiegssiya)) { $this->yqemcmaqsuqeuugu(); } } public function wukyaekysskwwyae(array $auwuoyyagaiegwae) : bool { return $this->uykissogmuaaocsg()->qwgwwmwcgwommmcy($auwuoyyagaiegwae); } public function uykissogmuaaocsg() : Engine { return Engine::symcgieuakksimmu(); } }
