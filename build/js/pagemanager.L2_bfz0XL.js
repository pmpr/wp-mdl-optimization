/*! For license information please see pagemanager.L2_bfz0XL.js.LICENSE.txt */
(()=>{var e={510:(e,t,n)=>{"use strict";n.r(t)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(510),function(){const e=PRHelper.getHTML(),t=PRHelper.getType(),n=PRHelper.getHook(),a=PRHelper.getForm(),r=PRHelper.getFormat(),i=PRHelper.getSetting(),l=PRHelper.getRequest(),o=PRBackendHelper.getForm(),p=PRBackendHelper.getModal();n.on("change paste input",(n=>{let p=e.getTarget(n,"input");a.getFieldContainer(p),a.inputDelay(p,(()=>{let n=e.getValue(p),a=p.closest(".pr-modal-container"),s=e.getElement(".opt-pattern-setup",a);if(t.isEmpty(n))e.setElementActivity(s,!0,!1);else if(!r.isURL(n)||r.isExternalURL(n))o.showFieldMessage(p,i.getOption("pagemanager.invalid_url"));else{let t=e.getValue(e.getElement("input[name=pattern]",a));e.setElementActivity(s,!1,!1),l.ajax(i.getOption("pagemanager.ajax.check_candidate_link")).addNonce().onSuccess((t=>{o.showFieldMessage(p,"",!1),e.setElementActivity(s,!0,!1)})).onError((e=>{o.showFieldMessage(p,e)})).send({link:n,pattern:t})}}),1500)}),"input[name=candidate_page_link]"),n.on("click",(t=>{let n=e.getTarget(t,".opt-pattern-setup"),a=n.closest(".pr-modal-container");e.setElementActivity(n,!1),l.ajax(i.getOption("pagemanager.ajax.setup_pattern")).addNonce().onSuccess((e=>{window.location.reload()})).onError((e=>{p.getCurrent().showMessage(e)})).onFinally((()=>{e.setElementActivity(n,!0)})).send({link:e.getValue(e.getElement("input[name=candidate_page_link]",a)),pattern:e.getData(n,"pattern")})}),".opt-pattern-setup")}()})();